(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{75557:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(36539)}])},36539:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return t$}});var l=a(85893);a(33299);var s=a(67294),n=a(28368),r=a(86123),i=a(17106),c=a(83669),d=a(80243),o=a(91799),x=a(7297),h=a(44995),p=a(89583),m=a(9198),u=a.n(m),b=a(99820);a(459),a(43159),a(16196);let g="http://192.168.1.176:3002",y=async(e,t,a)=>{let l={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({e_id:e,range_start:t,range_end:a})},s=await fetch("".concat(g,"/getShiftLogs"),l);return await s.json()},j=async e=>{let t={body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}};await fetch("".concat(g,"/removeRangeShift"),t)},f=async e=>{let t={body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}};await fetch("".concat(g,"/setSchedule"),t)},w=async()=>{let e=await fetch("".concat(g,"/EmployeeResourcesAPI/Zuma_Employees"),{method:"POST",headers:{"Content-Type":"application/json"}});return await e.json()},N=async e=>{let t={body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}};await fetch("".concat(g,"/addEmployee"),t)},v=async e=>{let t={body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}};await fetch("".concat(g,"/deleteEmployee"),t)},k=async e=>{let t=JSON.stringify({e_id:e.e_id,range_start:e.rangeStart,range_end:e.rangeEnd,date:e.date}),a={method:"POST",headers:{"Content-Type":"application/json","Content-Length":t.length},body:t},l=await fetch("".concat(g,"/EmployeeResourcesAPI/addAssignment"),a);return await l.json()},S=async e=>{let t="end"==e.shiftOption?"EmployeeResourcesAPI/PreviewTansformEndShift":"EmployeeResourcesAPI/PreviewTansformStartShift",a=JSON.stringify({e_id:e.e_id,date:e.date,hours:e.hours}),l={method:"POST",headers:{"Content-Type":"application/json","Content-Length":a.length},body:a},s=await fetch("".concat(g,"/").concat(t),l),n=await s.json();return n},C=async e=>{let t="end"==e.shiftOption?"EmployeeResourcesAPI/TansformEndShift":"EmployeeResourcesAPI/TansformStartShift",a=JSON.stringify({e_id:e.e_id,date:e.date,hours:e.hours}),l={method:"POST",headers:{"Content-Type":"application/json","Content-Length":a.length},body:a},s=await fetch("".concat(g,"/").concat(t),l),n=await s.json();return n},T=async e=>{let t="PRINT_ALL"==e.e_id?"/EmployeeResourcesAPI/Generate_Time_sheet_all":"/EmployeeResourcesAPI/Generate_Time_sheet",a=JSON.stringify({employee_id:e.e_id,shift_start_range:e.date1,shift_end_range:e.date2}),l={method:"POST",headers:{"Content-Type":"application/json","Content-Length":a.length},body:a},s=await fetch("".concat(g).concat(t),l);return s.blob()},D=async e=>{let t=JSON.stringify({e_id:e.e_id,date:e.date,revert:e.revert}),a={method:"POST",headers:{"Content-Type":"application/json","Content-Length":t.length},body:t},l=await fetch("".concat(g,"/EmployeeResourcesAPI/RemoveShift"),a),s=await l.json();return s},P=async e=>{JSON.stringify({e_id:e.e_id,shiftRange:e.shiftRange,assigmentRangeOption:e.assigmentRangeOption,date:e.date})},E=async e=>{let t=JSON.stringify({e_id:e.e_id,date:e.date,hours:"1"}),a={method:"POST",headers:{"Content-Type":"application/json","Content-Length":t.length},body:t},l=await fetch("".concat(g,"/EmployeeResourcesAPI/PreviewRemoveShift"),a),s=await l.json();return s};class _{constructor(){this.getShiftLogs=async(e,t,a)=>await y(e,t,a),this.setRemoveRange=async e=>{await j(e)},this.setSchedule=async e=>{await f(e)},this.addEmployee=async e=>{await N(e)},this.deleteEmployee=async e=>{await v(e)},this.getEmployees=async()=>await w(),this.add_assign=async e=>await k(e),this.preview_transform_shift=async e=>await S(e),this.transform_shift=async e=>await C(e),this.pdf_get=async e=>await T(e),this.removeShift=async e=>await D(e),this.edit_assign_preview=async e=>await P(e),this.previewRemoveShift=async e=>await E(e)}}var I=a(96827),A=a(14874),O=a(51008),R=a(58439),M=a(12262);a(36775);let U=new _,L={"en-US":a(52552)},H=(0,I.lD)({format:A.ZP,parse:O.ZP,startOfWeek:R.Z,getDay:M.Z,locales:L}),F=e=>new Intl.DateTimeFormat("en-CA",{timeZone:"America/Los_Angeles",year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(e)),Z=e=>new Date(e).toLocaleTimeString("en-US",{timeZone:"America/Los_Angeles",hour12:!1,hour:"2-digit",minute:"2-digit"}).split(":")[0].padStart(2,"0")+":00",z=(e,t)=>{let[a]=e.split(":").map(Number),[l]=t.split(":").map(Number);return l-a},Y=async(e,t,a)=>{let l=[];for(let s in e){let n=e[s],r=t[s];if(r){if(n.SHIFT_START!==r.SHIFT_START){console.log("SHIFT_START changed:",s,n.SHIFT_START,r.SHIFT_START);let e=new Date("".concat(s,"T12:00:00-08:00"));l.push(()=>U.transform_shift({shiftOption:"start",e_id:a,date:e,hours:z(r.SHIFT_START,n.SHIFT_START)}))}if(n.SHIFT_END!==r.SHIFT_END){let e=new Date("".concat(s,"T12:00:00-08:00"));l.push(()=>U.transform_shift({shiftOption:"end",e_id:a,date:e,hours:z(r.SHIFT_END,n.SHIFT_END)}))}if(n.VALID!==r.VALID){let e=new Date("".concat(s,"T12:00:00-08:00"));l.push(()=>U.removeShift({e_id:a,date:e,revert:!n.VALID}))}}}for(let e of l)try{await e()}catch(e){console.error("❌ Failed to process change:",e)}window.alert("✅ All changes processed successfully!"),console.log("✅ All shift changes processed.")},G=()=>{let e=new Date,t=new Date(e);t.setMonth(e.getMonth()-3),t.setHours(0,0,0,0);let a=new Date(e);return a.setMonth(e.getMonth()+3),a.setHours(23,59,59,999),{startDate:t.toISOString().split("T")[0],endDate:a.toISOString().split("T")[0]}},V=e=>{let{employee:t}=e,[a,n]=s.useState({}),[r,i]=s.useState({}),c=async()=>{let{startDate:e,endDate:a}=G(),l=await U.getShiftLogs(t.id,e,a),s={};l.forEach(e=>{let t=F(e.SHIFT_DATE);s[t]={SHIFT_START:Z(e.SHIFT_START),SHIFT_END:Z(e.SHIFT_END),VALID:0===e.VALID}}),n(s),i(s)};s.useEffect(()=>{c()},[t]);let d=(e,t,a)=>{let l=e.toISOString().split("T")[0],s="start"===t?"SHIFT_START":"SHIFT_END",[r]=a.split(":"),i="".concat(r.padStart(2,"0"),":00");n(e=>({...e,[l]:{...e[l],[s]:i}}))},o=e=>{let t=e.toISOString().split("T")[0];n(e=>{var a;return{...e,[t]:{...e[t],VALID:!(null===(a=e[t])||void 0===a?void 0:a.VALID)}}})},x=e=>{let{children:t,value:s}=e,n=s.toISOString().split("T")[0],i=a[n]||{},c=(null==r?void 0:r[n])||{},x=i.SHIFT_START!==c.SHIFT_START,h=i.SHIFT_END!==c.SHIFT_END,p=!a[n],m=(e=>{let t=e.getDay();return 0===t||6===t})(s);return(0,l.jsxs)("div",{style:{position:"relative",height:"100%",backgroundColor:m?"#dcdcdcff":i.VALID?"#323f446c":"#abc0acff",color:"black",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:m?"center":"flex-start",fontSize:m?"0.75rem":"inherit",fontWeight:m?500:"normal",padding:"0.25rem",textAlign:"center"},children:[m?(0,l.jsxs)("div",{style:{padding:"0.25rem",width:"100%",marginTop:"30px"},children:[(0,l.jsx)("label",{style:{color:"black"},children:"Non-Business Day"}),(0,l.jsx)("input",{type:"time",style:{width:"100%",backgroundColor:"transparent",border:"1px solid transparent",color:"transparent",outline:"none",fontWeight:"500",fontSize:"0.9rem",WebkitAppearance:"none",MozAppearance:"none",appearance:"none"},disabled:!0,value:"Weekend"})]}):(0,l.jsx)(l.Fragment,{children:!0==p?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{style:{fontSize:"0.75rem",color:"#666",marginTop:"40px",width:"100%"},children:"\uD83D\uDD12 Manager Update Schedule For Employee"}),(0,l.jsx)("div",{style:{padding:"0.25rem",width:"100%"},children:(0,l.jsx)("input",{type:"time",value:i.SHIFT_START||"",onChange:e=>d(s,"start",e.target.value),style:{width:"100%",marginBottom:"6px",backgroundColor:"transparent",border:"1px solid transparent",color:"transparent",outline:"none",fontWeight:"500",fontSize:"0.9rem",WebkitAppearance:"none",MozAppearance:"none",appearance:"none"},disabled:p})})]}):(0,l.jsxs)(l.Fragment,{children:[" ",(0,l.jsx)("div",{style:{position:"relative",top:2,right:2,zIndex:1,opacity:p?.5:1},children:(0,l.jsxs)("label",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginTop:"1.5rem",paddingRight:"0.2rem",paddingLeft:"0.2rem",color:i.VALID?"white":"rgba(76, 74, 45, 1)"},children:["Called Off",(0,l.jsx)("input",{style:{marginLeft:"0.6rem",backgroundColor:"#6c7f6f",border:"2px solid white",width:"1.2rem",height:"1.2rem",color:"white",padding:"4px 6px",borderRadius:"4px",outline:"none",fontWeight:"500",fontSize:"0.9rem",WebkitAppearance:"none",MozAppearance:"none",appearance:"none"},type:"checkbox",checked:i.VALID||!1,onChange:()=>o(s),title:"Called Off",disabled:p})]})}),(0,l.jsxs)("div",{style:{padding:"0.25rem",width:"100%"},children:[(0,l.jsx)("input",{type:"time",value:i.SHIFT_START||"",onChange:e=>d(s,"start",e.target.value),style:{width:"100%",marginBottom:"4px",backgroundColor:x?"#fff3cd":"#fefefe",border:"1px solid #ccc",borderRadius:"4px",padding:"2px 4px",fontWeight:500,color:"#333"},disabled:p||i.VALID}),(0,l.jsx)("input",{type:"time",value:i.SHIFT_END||"",onChange:e=>d(s,"end",e.target.value),style:{width:"100%",backgroundColor:h?"#fff3cd":"#fefefe",border:"1px solid #ccc",borderRadius:"4px",padding:"2px 4px",fontWeight:500,color:"#333"},disabled:p||i.VALID})]})]})}),t]})};return(0,l.jsxs)("div",{style:{height:"73vh",color:"black"},children:[(0,l.jsx)(I.f,{localizer:H,defaultView:"month",views:["month"],components:{dateCellWrapper:x},style:{height:"100%",backgroundColor:"white",color:"black"}}),(0,l.jsx)("button",{className:"bg-emerald-900 hover:bg-emerald-800 text-white px-4 py-2 w-full ",onClick:()=>{Y(a,r,t.id)},children:"Save Changes"})]})};function B(){let e=(0,x.Z)(["\n  fixed\n  z-50\n  inset-0\n  bg-gray-900\n  opacity-50\n"]);return B=function(){return e},e}function K(){let e=(0,x.Z)(["\n  fixed\n  z-50\n  top-1/2\n  left-1/2\n  transform\n  -translate-x-1/2\n  -translate-y-1/2\n  w-3/4\n  h-5/6\n  bg-white\n  rounded-md\n  overflow-y-auto\n"]);return K=function(){return e},e}function J(){let e=(0,x.Z)(["\n  flex\n  justify-between\n  items-center\n  px-4\n  py-2\n  bg-gray-200\n  border-b\n  border-gray-400\n"]);return J=function(){return e},e}function W(){let e=(0,x.Z)(["\n  text-lg\n  font-medium\n"]);return W=function(){return e},e}function Q(){let e=(0,x.Z)(["\n  focus:outline-none\n  text-black\n"]);return Q=function(){return e},e}function q(){let e=(0,x.Z)(["\n  grid\n  grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4\n  gap-4\n  px-4 py-6\n"]);return q=function(){return e},e}function X(){let e=(0,x.Z)(["\nbg-gradient-to-br from-white to-gray-100\nhover:to-gray-500\n  shadow-md\n  rounded-md\n  p-4\n"]);return X=function(){return e},e}function $(){let e=(0,x.Z)(["\n  bg-gray-100\n  rounded-md\n  p-4\n"]);return $=function(){return e},e}b.v0.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(b.v0.version,"/pdf.worker.js");let ee=new _,et=h.Z.div(B()),ea=h.Z.div(K()),el=h.Z.div(J()),es=h.Z.h2(W()),en=h.Z.button(Q()),er=h.Z.div(q()),ei=h.Z.div(X()),ec=h.Z.div($());function ed(e){let{value:t,onChange:a}=e,s=()=>{a(!t)};return(0,l.jsxs)("div",{className:"relative inline-block w-10 mr-2 align-middle select-none",children:[(0,l.jsx)("input",{type:"checkbox",name:"toggle",id:"toggle",className:"toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer",checked:t,onChange:s}),(0,l.jsx)("label",{htmlFor:"toggle",className:"toggle-label block overflow-hidden h-6 rounded-full bg-gray-300 cursor-pointer"})]})}let eo=e=>{let{selected:t,setSelected:a}=e,s=e=>{a(e)};return(0,l.jsx)(u(),{selected:t,onChange:s,className:"border border-gray-300 p-2 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-black"})},ex=e=>{let{fileBlob:t}=e,[a,n]=(0,s.useState)(null),[r,i]=(0,s.useState)(1),[c,d]=(0,s.useState)(!1),o=e=>{let{numPages:t}=e;d(!0),n(t)},x=()=>{let e=URL.createObjectURL(t);window.open(e),URL.revokeObjectURL(e)};return(0,l.jsxs)("div",{className:"flex flex-col items-center mt-20 border-b-2 border-gray-400/50 py-2",children:[(0,l.jsx)("div",{className:"bg-gray-200 p-4 rounded-md shadow-md my-4",children:(0,l.jsx)(b.BB,{file:t,onLoadSuccess:o,children:(0,l.jsx)(b.T3,{pageNumber:r,size:"letter"})})}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[c&&(0,l.jsxs)("button",{onClick:x,className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-md block mx-auto my-4 mr-5 items-center justify-center flex",children:[(0,l.jsx)(p.rcQ,{className:"mr-2"})," Print"]}),(0,l.jsxs)("div",{className:"text-gray-500 flex items-center",children:[(0,l.jsx)("button",{onClick:()=>i(r-1),disabled:r<=1,className:"bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold px-2 py-1 rounded-md mr-2",children:"Prev"}),(0,l.jsxs)("span",{className:"mr-2",children:["Page ",r," of ",a]}),(0,l.jsx)("button",{onClick:()=>i(r+1),disabled:r>=a,className:"bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold px-2 py-1 rounded-md",children:"Next"})]})]})]})},eh=e=>{let[t,a]=(0,s.useState)(!1),[n,r]=(0,s.useState)(e.data.data),i=()=>{a(!t)},c=t=>{e.setData(t),a(!1)};return(0,l.jsx)(l.Fragment,{children:n.length>0&&(0,l.jsxs)("div",{className:"relative inline-block text-left",children:[(0,l.jsxs)("button",{type:"button",className:"inline-flex justify-center w-full rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-indigo-500",id:"options-menu","aria-haspopup":"true","aria-expanded":t?"true":"false",onClick:i,children:[e.dataValue,(0,l.jsx)("svg",{className:"-mr-1 ml-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M6.293 6.293a1 1 0 011.414 0L10 8.586l2.293-2.293a1 1 0 011.414 0l.707.707a1 1 0 010 1.414L11.414 10l2.293 2.293a1 1 0 010 1.414l-.707.707a1 1 0 01-1.414 0L10 11.414l-2.293 2.293a1 1 0 01-1.414 0l-.707-.707a1 1 0 010-1.414L8.586 10 6.293 7.707a1 1 0 010-1.414l.707-.707z",clipRule:"evenodd"})})]}),(0,l.jsx)("div",{className:"".concat(t?"block":"hidden"," absolute z-50 mt-1 w-full bg-white shadow-lg"),"aria-labelledby":"options-menu",role:"menu",onClick:e=>e.stopPropagation(),children:n.map(e=>(0,l.jsx)("button",{className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900 w-full text-left",role:"menuitem",onClick:()=>c(e),children:e},e))})]})})},ep=()=>{let[e,t]=(0,s.useState)({gen_emp_all:[],emp_data:[],emps:[],gen_emps:[],emp_option:[]}),a=async()=>{let e=await ee.getEmployees(),a=e.map(e=>({name:e.NAME,e_id:e.EMPLOYEE_ID}));a[a.length]={name:"PRINT_ALL",e_id:"PRINT_ALL"};let l=e.map(e=>({name:e.NAME,e_id:e.EMPLOYEE_ID})),s=e.map(e=>"".concat(e.NAME)),n=e.map(e=>"".concat(e.NAME));n[n.length]="PRINT_ALL",t({gen_emp_all:a,emp_data:l,emps:s,gen_emps:n,emp_option:["start","end"]})};(0,s.useEffect)(()=>{a()},[]);let[n,r]=(0,s.useState)(!1),[i,c]=(0,s.useState)(!1),[d,o]=(0,s.useState)(!1),[x,h]=(0,s.useState)(!1),[m,u]=(0,s.useState)(!1),[b,g]=(0,s.useState)(!1),[y,j]=(0,s.useState)("Select Shift"),[f,w]=(0,s.useState)("Select Employee"),[N,v]=(0,s.useState)(""),[k,S]=(0,s.useState)(Date.now()),[C,T]=(0,s.useState)(1),[D,P]=(0,s.useState)([]),[E,_]=(0,s.useState)(null),[I,A]=(0,s.useState)([]),[O,R]=(0,s.useState)(""),[M,U]=(0,s.useState)(!1),[L,H]=(0,s.useState)(Date.now()),[F,Z]=(0,s.useState)(Date.now()),[z,Y]=(0,s.useState)(!1),G=async()=>{let e=await ee.getEmployees(),t=e.map(e=>({id:e.EMPLOYEE_ID,name:e.NAME}));A(t),R(t[0].name)};(0,s.useEffect)(()=>{G()},[]);let[B,K]=(0,s.useState)({monday:{start:"",end:""},tuesday:{start:"",end:""},wednesday:{start:"",end:""},thursday:{start:"",end:""},friday:{start:"",end:""}}),J=()=>{if(!O&&!B.monday.start&&!B.monday.end&&!B.tuesday.start&&!B.tuesday.end&&!B.wednesday.start&&!B.wednesday.end&&!B.thursday.start&&!B.thursday.end&&!B.friday.start&&!B.friday.end){alert("Please fill out all fields");return}let e=I.filter(e=>e.name===O)[0],t={employee_id:e.id,schedule:{mon:[parseInt(B.monday.start),parseInt(B.monday.end)],tue:[parseInt(B.tuesday.start),parseInt(B.tuesday.end)],wed:[parseInt(B.wednesday.start),parseInt(B.wednesday.end)],thu:[parseInt(B.thursday.start),parseInt(B.thursday.end)],fri:[parseInt(B.friday.start),parseInt(B.friday.end)]}};ee.setSchedule(t),alert("Schedule Set")},W=async e=>{if("Select Employee"!=N&&null!=k&&"Select Shift"!=y){let t=await ee.preview_transform_shift(e);P(t)}},Q=async e=>{if("Select Employee"!=N&&null!=k&&"Select Shift"!=y){let t=await ee.transform_shift(e);_(t)}},[q,X]=(0,s.useState)(!1),$=async e=>{if("Select Employee"!=N&&null!=k){let t=await ee.previewRemoveShift(e);P(t)}},ep=async e=>{if("Select Employee"!=N&&null!=k){let t=await ee.removeShift(e);_(t)}},[em,eu]=(0,s.useState)(Date.now()),[eb,eg]=(0,s.useState)(Date.now()),[ey,ej]=(0,s.useState)(null),[ef,ew]=(0,s.useState)("Select Employee"),[eN,ev]=(0,s.useState)(""),ek=async e=>{if(null!=em&&null!=eb&&"Select Employee"!=ef){let t=await ee.pdf_get(e);ej(t)}};(0,s.useEffect)(()=>{if("Select Employee"!=ef){let t=e.gen_emp_all.filter(e=>{if(ef==e.name)return e});ev(t[0].e_id)}},[ef]),(0,s.useEffect)(()=>{if("Select Employee"!=f){let t=e.emp_data.filter(e=>{if(f==e.name)return e});v(t[0].e_id)}},[f]);let[eS,eC]=(0,s.useState)(!1),[eT,eD]=(0,s.useState)(0),[eP,eE]=(0,s.useState)(0),[e_,eI]=(0,s.useState)(Date.now()),[eA,eO]=(0,s.useState)(null),[eR,eM]=(0,s.useState)({}),eU=async e=>{let t=await Add_Assigment(e);eO(t)};(0,s.useEffect)(()=>{eM({employee:ef||null,date:e_||null,range:[eT||0,eP||0],total:Math.abs(eP-eT)})},[eT,eP,e_,ef]);let[eL,eH]=(0,s.useState)(!1),[eF,eZ]=(0,s.useState)("Select Range Option"),[ez,eY]=(0,s.useState)({}),[eG,eV]=(0,s.useState)(!1),[eB,eK]=(0,s.useState)(!1),[eJ,eW]=(0,s.useState)(""),[eQ,eq]=(0,s.useState)(""),[eX,e$]=(0,s.useState)(""),[e0,e1]=(0,s.useState)(""),[e2,e4]=(0,s.useState)(""),[e3,e5]=(0,s.useState)(""),[e8,e6]=(0,s.useState)([]),[e7,e9]=(0,s.useState)(null),te=e=>""===e||null==e?"":e.toString().padStart(2,"0")+":00",tt=(e,t)=>a=>{let l=a.target.value,s=parseInt(l.split(":")[0],10);isNaN(s)||K(a=>({...a,[e]:{...a[e],[t]:s}}))},ta=async()=>{let e=await ee.getEmployees(),t=e.map(e=>({...e,focus:!1}));e6(t)},tl=async()=>{await ee.addEmployee({name:eJ,email:eQ,phone:eX,location:e0,title:e2,wage:e3}),setTimeout(()=>{ta()},500),alert("Employee Added")},ts=async()=>{let e={employee_id:e7.EMPLOYEE_ID};await ee.deleteEmployee(e),alert("Employee Deleted"),setTimeout(()=>{ta()},500)},tn=e=>{let t=e8.map(t=>t.EMPLOYEE_ID===e.EMPLOYEE_ID?{...t,focus:!t.focus}:{...t,focus:!1});e9(e.focus?null:e),e6(t)},tr=e8.map((e,t)=>(0,l.jsxs)("tr",{className:"".concat(e.focus?"bg-green-100":t%2==0?"bg-gray-100":"bg-white"),onClick:()=>tn(e),children:[(0,l.jsx)("td",{className:"px-4 py-2 border text-black",children:e.NAME}),(0,l.jsx)("td",{className:"px-4 py-2 border text-white bg-lime-900/80",children:e.EMPLOYEE_ID}),(0,l.jsx)("td",{className:"px-4 py-2 border text-black",children:e.TITLE})]},e.EMPLOYEE_ID));(0,s.useEffect)(()=>{ta()},[]);let[ti,tc]=(0,s.useState)(!1),[td,to]=(0,s.useState)(!1),[tx,th]=(0,s.useState)(!1),tp=e=>{"viewScheduler"==e&&th(!0),"viewAssign"==e&&to(!0),"rmAssign"==e&&tc(!0),"editAssign"==e&&eH(!0),"add"==e&&eC(!0),"edit"==e&&o(!0),"rm"==e&&c(!0),"gen"==e&&h(!0),"manage"==e&&u(!0),"schedule"==e&&g(!0)},tm=e=>{"viewScheduler"==e&&th(!1),"viewAssign"==e&&to(!1),"rmAssign"==e&&tc(!1),"editAssign"==e&&(eH(!1),ew("Select Employee"),v(""),eD(0),eZ("Select Range Option")),"add"==e&&(eD(0),eE(0),ew("Select Employee"),v(""),eC(!1),eM({}),eI(Date.now()),eO(null)),"edit"==e&&(_(null),w("Select Employee"),v(""),j("Select Shift"),P([]),S(Date.now()),T(1),o(!1)),"rm"==e&&(X(!1),_(null),w("Select Employee"),v(""),j("Select Shift"),P([]),S(Date.now()),c(!1)),"gen"==e&&(ew("Select Employee"),ej(null),eu(Date.now()),eg(Date.now()),h(!1)),"manage"==e&&(u(!1),eq(""),e1(""),eW(""),e$(""),e4(""),e5(""),eK(!1),e9(null)),"schedule"==e&&g(!1)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(er,{children:[(0,l.jsxs)(ei,{onClick:()=>tp("viewScheduler"),children:[(0,l.jsx)("h2",{className:"text-black mb-3",children:"Employee Scheduler"}),(0,l.jsxs)(ec,{children:[(0,l.jsx)("h3",{className:"text-gray-800/50",children:"Utility"}),(0,l.jsx)("p",{className:"text-gray-800/50",children:"Scheduler to handle employee shifts"})]})]}),(0,l.jsxs)(ei,{onClick:()=>tp("edit"),children:[(0,l.jsx)("h2",{className:"text-black mb-3",children:"Edit Employee Shift"}),(0,l.jsxs)(ec,{children:[(0,l.jsx)("h3",{className:"text-gray-800/50",children:"Utility"}),(0,l.jsx)("p",{className:"text-gray-800/50",children:"Edit start or end shift time for a given employee"})]})]}),(0,l.jsxs)(ei,{onClick:()=>tp("rm"),children:[(0,l.jsx)("h2",{className:"text-black mb-3",children:"Remove Employee Shift"}),(0,l.jsxs)(ec,{children:[(0,l.jsx)("h3",{className:"text-gray-800/50",children:"Utility"}),(0,l.jsx)("p",{className:"text-gray-800/50",children:"Remove employee shift day with a given id and date"})]})]}),(0,l.jsxs)(ei,{onClick:()=>tp("gen"),children:[(0,l.jsx)("h2",{className:"text-black mb-3",children:"Generate Employee Work Times"}),(0,l.jsxs)(ec,{children:[(0,l.jsx)("h3",{className:"text-gray-800/50",children:"Utility"}),(0,l.jsx)("p",{className:"text-gray-800/50",children:"Generate pdf files for employess"})]})]}),(0,l.jsxs)(ei,{onClick:()=>tp("manage"),children:[(0,l.jsx)("h2",{className:"text-black mb-3",children:"Manage Employees"}),(0,l.jsxs)(ec,{children:[(0,l.jsx)("h3",{className:"text-gray-800/50",children:"Utility"}),(0,l.jsx)("p",{className:"text-gray-800/50",children:"Add, Delete, or View Employees"})]})]}),(0,l.jsxs)(ei,{onClick:()=>tp("schedule"),children:[(0,l.jsx)("h2",{className:"text-black mb-3",children:"Manage Employee Schedule"}),(0,l.jsxs)(ec,{children:[(0,l.jsx)("h3",{className:"text-gray-800/50",children:"Utility"}),(0,l.jsxs)("p",{className:"text-gray-800/50",children:["Create weekly schedule for employee"," "]})]})]})]}),d&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(et,{onClick:()=>tm("edit")}),(0,l.jsxs)(ea,{children:[(0,l.jsxs)(el,{className:"sticky top-0 z-10 bg-white",children:[(0,l.jsx)(es,{className:"text-black",children:"Edit Utility"}),(0,l.jsx)(en,{onClick:()=>tm("edit"),children:(0,l.jsx)(p.aHS,{className:"w-5 h-5 mr-2"})})]}),null==E?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"p-4 grid gap-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-4 border border-b-2 border-black/20",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-black",children:"Select Shift Options"}),(0,l.jsx)(eh,{setData:j,dataValue:y,data:{data:["start","end"]}})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-black",children:"Select Employee"}),(0,l.jsx)(eh,{setData:w,dataValue:f,data:{data:e.emps}})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-black",children:"Select Date"}),(0,l.jsx)(eo,{selected:k,setSelected:S})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-black",children:"Enter Change In Hours"}),(0,l.jsx)("input",{className:"text-black w-full rounded-lg border border-black/20 p-2",type:"number",value:C,onChange:e=>{T(e.target.value)},placeholder:"Enter Hours",min:0,max:20})]})]}),(0,l.jsx)("div",{className:"text-black flex justify-center items-center text-3xl mt-20",children:(0,l.jsx)("div",{className:"w-auto h-auto text-center opacity-50",children:D.length>0?(0,l.jsxs)("div",{children:[f,D.map(e=>!0==e.SHIFT_CHANGE?(0,l.jsx)("div",{className:"bg-red-500/80 rounded-lg",children:"end"==y?e.SHIFT_END:e.SHIFT_START},e.SHIFT_DATE):(0,l.jsx)("div",{children:"end"==y?e.SHIFT_END:e.SHIFT_START},e.SHIFT_DATE))]}):(0,l.jsx)("div",{children:" Loading Preview..."})})}),(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center items-center sm:mt-8 md:mt-12 lg:mt-16",children:[(0,l.jsx)("button",{className:"w-full sm:w-auto rounded-lg text-black border border-3 bg-zuma-green/80 px-4 py-2 sm:mr-4 mb-4 sm:mb-0",onClick:()=>{W({e_id:N,date:k,shiftOption:y,hours:C})},children:"Preview Change"}),(0,l.jsx)("button",{className:"w-full sm:w-auto rounded-lg text-black border border-3 bg-orange-500/80 px-4 py-2",onClick:()=>{Q({e_id:N,date:k,shiftOption:y,hours:C})},children:"Change Shift Entry"})]})]}):(0,l.jsx)("div",{className:"text-gray-900 font-bold",children:" Entry Changed!"})]})]}),i&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(et,{onClick:()=>tm("rm")}),(0,l.jsxs)(ea,{className:"sm:w-11/12 md:w-5/6 lg:w-2/3",children:[(0,l.jsxs)(el,{className:"sticky top-0 z-10 bg-white",children:[(0,l.jsx)(es,{className:"text-black",children:"Remove Shift Utility"}),(0,l.jsx)(en,{onClick:()=>tm("rm"),children:(0,l.jsx)(p.aHS,{className:"w-5 h-5 mr-2"})})]}),(0,l.jsx)(l.Fragment,{children:!1==M?(0,l.jsx)(l.Fragment,{children:null==E?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"p-4 grid gap-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 border border-b-2 border-black/20",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-black",children:"Select Employee"}),(0,l.jsx)(eh,{setData:w,dataValue:f,data:{data:e.emps}})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-black",children:"Select Date"}),(0,l.jsx)(eo,{selected:k,setSelected:S})]}),(0,l.jsx)("button",{onClick:()=>U(!M),className:"w-full sm:w-auto rounded-lg text-black border border-3 bg-zuma-green/80 px-4 py-2 sm:mr-4 mb-4 sm:mb-0",children:(0,l.jsx)("p",{children:"Select Range"})})]}),(0,l.jsx)("div",{className:"text-black flex justify-center items-center text-3xl mt-20",children:(0,l.jsx)("div",{className:"w-auto h-auto text-center opacity-50",children:D.length>0?(0,l.jsxs)("div",{children:[f,D.map(e=>!0==e.SHIFT_CHANGE&&"Called Off"==e.SHIFT_DATE?(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"bg-red-500/80 rounded-lg mr-2 py-1 px-2",children:e.SHIFT_DATE},e.SHIFT_DATE),(0,l.jsx)(ed,{value:q,onChange:X}),(0,l.jsx)("div",{className:"text-lg",children:"Revert Shift Removal"})]},e.SHIFT_DATE):!0==e.SHIFT_CHANGE?(0,l.jsx)("div",{className:"bg-red-500/80 rounded-lg",children:e.SHIFT_DATE},e.SHIFT_DATE):(0,l.jsx)("div",{children:e.SHIFT_DATE},e.SHIFT_DATE))]}):(0,l.jsx)("div",{children:" Loading Preview..."})})}),(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center items-center sm:mt-8 lg:mt-16",children:[!q&&(0,l.jsx)("button",{className:"w-full sm:w-auto rounded-lg text-black border border-3 bg-zuma-green/80 px-4 py-2 sm:mr-4 mb-4 sm:mb-0",onClick:()=>{$({e_id:N,date:k,shiftOption:y,hours:C})},children:"Preview Change"}),(0,l.jsx)("button",{className:"w-full sm:w-auto rounded-lg text-black border border-3 bg-orange-500/80 px-4 py-2",onClick:()=>{ep({e_id:N,date:k,shiftOption:y,hours:C,revert:q})},children:q?"Revert Modified Entry":"Remove Shift Entry"})]})]}):(0,l.jsxs)("div",{className:"text-gray-900 font-bold",children:[" ",q?"Reverted Removal Of Entry":"Removed Shift Entry!"]})}):(0,l.jsxs)(l.Fragment,{children:[" ",(0,l.jsxs)("div",{className:"p-4 grid gap-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 border border-b-2 border-black/20",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-black",children:"Select Employee"}),(0,l.jsx)(eh,{setData:w,dataValue:f,data:{data:e.emps}})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-black",children:"Select Start Date"}),(0,l.jsx)(eo,{selected:L,setSelected:H})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-black",children:"Select End Date"}),(0,l.jsx)(eo,{selected:F,setSelected:Z})]}),(0,l.jsx)("button",{onClick:()=>U(!M),className:"w-full sm:w-auto rounded-lg text-black border border-3 bg-zuma-green/80 px-4 py-2 sm:mr-4 mb-4 sm:mb-0",children:(0,l.jsx)("p",{children:"Select Single Date"})}),(0,l.jsx)("div",{className:"flex items-center gap-4 mt-4",children:(0,l.jsxs)("label",{className:"flex items-center",children:[(0,l.jsx)("span",{className:"text-black mr-2",children:"Revert"}),(0,l.jsx)("input",{type:"checkbox",checked:z,onChange:e=>Y(e.target.checked),className:"appearance-none w-12 h-6 rounded-full bg-gray-300 checked:bg-zuma-green/80 relative transition-all duration-200",style:{backgroundImage:z?"linear-gradient(to right, #22c55e, #16a34a)":void 0}})]})})]}),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("button",{onClick:()=>{ee.setRemoveRange({revert:z,startDate:L,endDate:F,e_id:N}),window.alert(z?"Successfully reverted range of shift entries.":"Successfully removed range of shift entries.")},className:"flex justify-center items-center mt-8 rounded-lg text-black border border-3 bg-orange-200 px-4 py-2 sm:mr-4 mb-4 sm:mb-0",children:[" ","Submit Range Of Dates"]})})]})})]})]}),x&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(et,{onClick:()=>tm("gen")}),(0,l.jsxs)(ea,{children:[(0,l.jsxs)(el,{className:"sticky top-0 z-10 bg-white",children:[(0,l.jsx)(es,{className:"text-black",children:"Generate Utility"}),(0,l.jsx)(en,{onClick:()=>tm("gen"),children:(0,l.jsx)(p.aHS,{className:"w-5 h-5 mr-2"})})]}),(0,l.jsxs)("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 border border-b-2 border-black/20",children:[(0,l.jsxs)("div",{className:"mb-4 md:mb-0",children:[(0,l.jsx)("p",{className:"text-black",children:"Select Employee"}),(0,l.jsx)(eh,{setData:ew,dataValue:ef,data:{data:e.gen_emps}})]}),(0,l.jsxs)("div",{className:"mb-4 md:mb-0",children:[(0,l.jsx)("p",{className:"text-black",children:"Select Start Date"}),(0,l.jsx)(eo,{selected:em,setSelected:eu})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-black",children:"Select End Date"}),(0,l.jsx)(eo,{selected:eb,setSelected:eg})]})]}),(0,l.jsx)(ex,{fileBlob:ey}),(0,l.jsx)("div",{className:"flex justify-center items-center mt-8 md:mt-20 mb-8 md:mb-20",children:(0,l.jsx)("button",{className:"bg-zuma-green text-white py-2 px-4 rounded-lg shadow-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-zuma-green-dark focus:ring-opacity-50",onClick:()=>{ek({e_id:eN,date1:em,date2:eb})},children:"Generate PDF"})})]})]}),eS&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(et,{onClick:()=>tm("add")}),(0,l.jsxs)(ea,{children:[(0,l.jsxs)(el,{className:"sticky top-0 z-10 bg-white",children:[(0,l.jsx)(es,{className:"text-black",children:"Assignment Utility"}),(0,l.jsx)(en,{onClick:()=>tm("add"),children:(0,l.jsx)(p.aHS,{className:"w-5 h-5 mr-2"})})]}),null==eA?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 border border-b-2 border-black/20",children:[(0,l.jsxs)("div",{className:"mb-4 md:mb-0",children:[(0,l.jsx)("p",{className:"text-black",children:"Select Employee"}),(0,l.jsx)(eh,{setData:ew,dataValue:ef,data:{data:e.emps}})]}),(0,l.jsxs)("div",{className:"mb-4 md:mb-0",children:[(0,l.jsx)("p",{className:"text-black",children:"Select Date"}),(0,l.jsx)(eo,{selected:e_,setSelected:eI})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-black",children:"Enter Start Range"}),(0,l.jsx)("input",{type:"number",className:"text-black rounded-lg border border-black/20 p-2",value:eT,onChange:e=>{eD(e.target.value)}})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-black",children:"Enter End Range"}),(0,l.jsx)("input",{type:"number",className:"text-black rounded-lg border border-black/20 p-2",value:eP,onChange:e=>{eE(e.target.value)}})]})]}),(0,l.jsx)("div",{className:"text-black flex justify-center items-center text-3xl mt-20 mb-5",children:(0,l.jsx)("div",{className:"w-auto h-auto text-center opacity-50",children:(0,l.jsxs)("div",{className:"text-black",children:[(0,l.jsxs)("div",{className:"bg-zuma-green py-2 px-2 rounded-lg",children:["Employee: ",eR.employee,","]}),(0,l.jsxs)("div",{className:"bg-zuma-green/70 py-2 px-2 rounded-lg",children:["Range: ",eR.range[0]," to"," ",eR.range[1]]}),(0,l.jsxs)("div",{className:"bg-zuma-green/50 py-2 px-2 rounded-lg",children:["Total Orders: ",eR.total]}),(0,l.jsxs)("div",{className:"bg-zuma-green/50 py-2 px-2 rounded-lg",children:["Entry Date:"," ",new Date(eR.date).toLocaleDateString()]})]})})}),(0,l.jsx)("div",{className:"flex flex-col sm:flex-row justify-center items-center sm:mt-8 lg:mt-16",children:(0,l.jsx)("button",{className:"w-full sm:w-auto rounded-lg text-black border border-3 bg-orange-500/80 px-4 py-2 mb-4",onClick:()=>{eU({e_id:eN,date:e_,rangeStart:eT,rangeEnd:eP})},children:"Add Assignment"})})]}):(0,l.jsx)("div",{children:" Assignment added for the employee!"})]})]}),eL&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(et,{onClick:()=>tm("editAssign")}),(0,l.jsxs)(ea,{children:[(0,l.jsxs)(el,{className:"sticky top-0 z-10 bg-white",children:[(0,l.jsx)(es,{className:"text-black",children:"Edit Assignment Utility"}),(0,l.jsx)(en,{onClick:()=>tm("editAssign"),children:(0,l.jsx)(p.aHS,{className:"w-5 h-5 mr-2"})})]}),(0,l.jsxs)("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 border border-b-2 border-black/20",children:[(0,l.jsxs)("div",{className:"mb-4 md:mb-0",children:[(0,l.jsx)("p",{className:"text-black",children:"Select Employee"}),(0,l.jsx)(eh,{setData:ew,dataValue:ef,data:{data:e.emps}})]}),(0,l.jsxs)("div",{className:"mb-4 md:mb-0",children:[(0,l.jsx)("p",{className:"text-black",children:"Select Range Option"}),(0,l.jsx)(eh,{setData:eZ,dataValue:eF,data:{data:e.emp_option}})]}),(0,l.jsxs)("div",{className:"mb-4 md:mb-0",children:[(0,l.jsx)("p",{className:"text-black",children:"Select Date"}),(0,l.jsx)(eo,{selected:e_,setSelected:eI})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-black",children:"Enter New Range"}),(0,l.jsx)("input",{type:"number",className:"text-black rounded-lg border border-black/20 p-2",value:eT,onChange:e=>{eD(e.target.value)}})]})]}),(0,l.jsx)("div",{className:"flex flex-col sm:flex-row justify-center items-center sm:mt-8 lg:mt-16",children:eG?(0,l.jsx)("button",{className:"w-full sm:w-auto rounded-lg text-black border border-3 bg-orange-500/80 px-4 py-2",onClick:()=>{ep({e_id:N,date:k,shiftOption:y,hours:C})},children:"Change Assignment Range"}):(0,l.jsx)("button",{className:"w-full sm:w-auto rounded-lg text-black border border-3 bg-orange-500/80 px-4 py-2",onClick:()=>{ep({e_id:N,date:k,shiftOption:y,hours:C})},children:"Get Employee Assign Entries"})})]})]}),ti&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(et,{onClick:()=>tm("rmAssign")}),(0,l.jsxs)(ea,{children:[(0,l.jsxs)(el,{className:"sticky top-0 z-10 bg-white",children:[(0,l.jsx)(es,{className:"text-black",children:"Remove Assignment Utility"}),(0,l.jsx)(en,{onClick:()=>tm("rmAssign"),children:(0,l.jsx)(p.aHS,{className:"w-5 h-5 mr-2"})})]}),(0,l.jsxs)("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 border border-b-2 border-black/20",children:[(0,l.jsxs)("div",{className:"mb-4 md:mb-0",children:[(0,l.jsx)("p",{className:"text-black",children:"Select Employee"}),(0,l.jsx)(eh,{setData:ew,dataValue:ef,data:{data:e.emps}})]}),(0,l.jsxs)("div",{className:"mb-4 md:mb-0",children:[(0,l.jsx)("p",{className:"text-black",children:"Select Range Option"}),(0,l.jsx)(eh,{setData:ew,dataValue:ef,data:{data:e.emps}})]}),(0,l.jsxs)("div",{className:"mb-4 md:mb-0",children:[(0,l.jsx)("p",{className:"text-black",children:"Select Date"}),(0,l.jsx)(eo,{selected:e_,setSelected:eI})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-black",children:"Enter New Range"}),(0,l.jsx)("input",{type:"number",className:"text-black  rounded-lg border border-black/20 p-2",value:eT,onChange:e=>{eD(e.target.value)}})]})]}),(0,l.jsx)("div",{className:"flex flex-col sm:flex-row justify-center items-center sm:mt-8 lg:mt-16",children:(0,l.jsx)("button",{className:"w-full sm:w-auto rounded-lg text-black border border-3 bg-orange-500/80 px-4 py-2",onClick:()=>{ep({e_id:N,date:k,shiftOption:y,hours:C})},children:"Change Shift Entry"})})]})]}),td&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(et,{onClick:()=>tm("viewAssign")}),(0,l.jsxs)(ea,{children:[(0,l.jsxs)(el,{className:"sticky top-0 z-10 bg-white",children:[(0,l.jsx)(es,{className:"text-black",children:"View Assignment Utility"}),(0,l.jsx)(en,{onClick:()=>tm("viewAssign"),children:(0,l.jsx)(p.aHS,{className:"w-5 h-5 mr-2"})})]}),(0,l.jsxs)("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 border border-b-2 border-black/20",children:[(0,l.jsxs)("div",{className:"mb-4 md:mb-0",children:[(0,l.jsx)("p",{className:"text-black",children:"Select Employee"}),(0,l.jsx)(eh,{setData:ew,dataValue:ef,data:{data:e.emps}})]}),(0,l.jsxs)("div",{className:"mb-4 md:mb-0",children:[(0,l.jsx)("p",{className:"text-black",children:"Select Range Option"}),(0,l.jsx)(eh,{setData:ew,dataValue:ef,data:{data:e.emps}})]}),(0,l.jsxs)("div",{className:"mb-4 md:mb-0",children:[(0,l.jsx)("p",{className:"text-black",children:"Select Date"}),(0,l.jsx)(eo,{selected:e_,setSelected:eI})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-black",children:"Enter New Range"}),(0,l.jsx)("input",{type:"number",className:"text-black rounded-lg border border-black/20 p-2",value:eT,onChange:e=>{eD(e.target.value)}})]})]}),(0,l.jsx)("div",{className:"flex flex-col sm:flex-row justify-center items-center sm:mt-8 lg:mt-16",children:(0,l.jsx)("button",{className:"w-full sm:w-auto rounded-lg text-black border border-3 bg-orange-500/80 px-4 py-2",onClick:()=>{ep({e_id:N,date:k,shiftOption:y,hours:C})},children:"Change Shift Entry"})})]})]}),m&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(et,{onClick:()=>tm("manage")}),(0,l.jsxs)(ea,{children:[(0,l.jsxs)(el,{className:"sticky top-0 z-10 bg-white",children:[(0,l.jsx)(es,{className:"text-black",children:"Manage Employees"}),(0,l.jsx)(en,{onClick:()=>tm("manage"),children:(0,l.jsx)(p.aHS,{className:"w-5 h-5 mr-2"})})]}),(0,l.jsx)("div",{className:"max-h-[75vh] overflow-y-auto rounded border text-black",children:(0,l.jsxs)("table",{className:"min-w-full table-fixed text-sm",children:[(0,l.jsx)("thead",{className:"bg-gray-200 sticky top-0 z-10",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-4 py-2 border w-1/4 text-left",children:"Name"}),(0,l.jsx)("th",{className:"px-4 py-2 border w-1/4 text-left",children:"ID"}),(0,l.jsx)("th",{className:"px-4 py-2 border w-1/4 text-left",children:"Title"}),(0,l.jsx)("th",{className:"px-2 py-2 border w-12 text-center",children:"Actions"})]})}),(0,l.jsxs)("tbody",{children:[tr,null!==e7&&(0,l.jsx)("tr",{className:"bg-red-50 text-black",children:(0,l.jsx)("td",{colSpan:4,className:"px-4 py-3",children:(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("span",{children:"Are you sure you want to delete this employee?"}),(0,l.jsxs)("div",{className:"space-x-2",children:[(0,l.jsx)("button",{onClick:()=>{ts(),e9(null),ta()},className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 text-sm",children:"Confirm"}),(0,l.jsx)("button",{onClick:()=>e9(null),className:"px-3 py-1 bg-gray-300 text-black rounded hover:bg-gray-400 text-sm",children:"Cancel"})]})]})})}),n?(0,l.jsx)("tr",{className:"bg-gray-50",children:(0,l.jsx)("td",{colSpan:4,children:(0,l.jsxs)("div",{className:"p-4 space-y-4",children:[(0,l.jsx)("div",{className:"grid grid-cols-2 gap-4",children:[["Full Name",eJ,eW],["Email",eQ,eq],["Phone",eX,e$],["Title",e2,e4],["Wage",e3,e5],["Location ID",e0,e1]].map((e,t)=>{let[a,s,n]=e;return(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-black mb-1",children:a}),(0,l.jsx)("input",{type:"text",value:s,onChange:e=>n(e.target.value),className:"w-full px-3 py-2 border rounded-md text-black border-gray-300",placeholder:a})]},t)})}),(0,l.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,l.jsx)("button",{onClick:()=>{tl(),r(!1),ta()},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded text-sm",children:"Submit"}),(0,l.jsx)("button",{onClick:()=>r(!1),className:"bg-gray-300 hover:bg-gray-400 text-black px-4 py-2 rounded text-sm",children:"Cancel"})]})]})})}):(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:4,className:"text-center py-3",children:(0,l.jsx)("button",{onClick:()=>r(!0),className:"text-blue-600 hover:underline font-medium",children:"+ Add Employee"})})})]})]})})]})]}),b&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(et,{onClick:()=>tm("schedule")}),(0,l.jsxs)(ea,{children:[(0,l.jsxs)(el,{className:"sticky top-0 z-10 bg-white",children:[(0,l.jsx)(es,{className:"text-black",children:"Manage Employee Schedule"}),(0,l.jsx)(en,{onClick:()=>tm("schedule"),children:(0,l.jsx)(p.aHS,{className:"w-5 h-5 mr-2"})})]}),(0,l.jsx)("div",{className:"flex flex-1 justify-center items-center w-full",children:(0,l.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow max-w-4xl w-full text-black",children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("label",{htmlFor:"employee-select",className:"block text-sm font-medium text-gray-700",children:"Select Employee"}),(0,l.jsx)("select",{id:"employee-select",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md text-black",value:O,onChange:e=>R(e.target.value),children:I.map(e=>(0,l.jsx)("option",{value:e.name,children:e.name},e.id))})]}),(0,l.jsx)("div",{className:"space-y-4",children:["monday","tuesday","wednesday","thursday","friday"].map(e=>{var t,a;return(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 border-b pb-4",children:[(0,l.jsx)("span",{className:"w-32 text-sm font-semibold text-gray-700 capitalize",children:e}),(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 w-full",children:[(0,l.jsx)("input",{type:"time",step:"3600",value:te(null===(t=B[e])||void 0===t?void 0:t.start),onChange:tt(e,"start"),className:"h-10 px-3 w-full sm:w-1/2 border border-gray-300 rounded text-black"}),(0,l.jsx)("input",{type:"time",step:"3600",value:te(null===(a=B[e])||void 0===a?void 0:a.end),onChange:tt(e,"end"),className:"h-10 px-3 w-full sm:w-1/2 border border-gray-300 rounded text-black"})]})]},e)})}),(0,l.jsx)("button",{onClick:()=>{J()},className:"mt-6 w-full h-12 bg-emerald-700 hover:bg-emerald-600 text-white rounded-md",children:"Submit Schedule"})]})})]})]}),tx&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(et,{onClick:()=>tm("viewScheduler")}),(0,l.jsxs)(ea,{children:[(0,l.jsxs)(el,{className:"sticky top-0 z-10 bg-white",children:[(0,l.jsx)(es,{className:"text-black",children:"Scheduler Utility"}),(0,l.jsx)(en,{onClick:()=>tm("viewScheduler"),children:(0,l.jsx)(p.aHS,{className:"w-5 h-5 mr-2"})})]}),(0,l.jsx)("select",{id:"employee-select",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md text-black bg-gray-200",value:O,onChange:e=>R(e.target.value),style:{marginBottom:"0.25rem"},children:I.map(e=>(0,l.jsx)("option",{value:e.name,children:e.name},e.id))}),(0,l.jsx)(V,{employee:I.find(e=>e.name===O)})]})]})]})};var em=a(86205);function eu(){let e=(0,x.Z)(["\n  fixed\n  z-50\n  inset-0\n  bg-gray-900\n  opacity-50\n"]);return eu=function(){return e},e}function eb(){let e=(0,x.Z)(["\n  fixed\n  z-50\n  top-1/2\n  left-1/2\n  transform\n  -translate-x-1/2\n  -translate-y-1/2\n  w-3/4\n  h-5/6\n  bg-white\n  rounded-md\n  overflow-y-none\n"]);return eb=function(){return e},e}function eg(){let e=(0,x.Z)(["\n  flex\n  justify-between\n  items-center\n  px-4\n  py-2\n  bg-gray-200\n  border-b\n  border-gray-400\n"]);return eg=function(){return e},e}function ey(){let e=(0,x.Z)(["\n  text-lg\n  font-medium\n"]);return ey=function(){return e},e}function ej(){let e=(0,x.Z)(["\n  focus:outline-none\n  text-black\n"]);return ej=function(){return e},e}let ef=h.Z.div(eu()),ew=h.Z.div(eb()),eN=h.Z.div(eg()),ev=h.Z.h2(ey()),ek=h.Z.button(ej());function eS(e){return(0,l.jsxs)(l.Fragment,{children:[e.visible?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ef,{onClick:()=>e.closeHandler(e.closeName)}),(0,l.jsxs)(ew,{children:[(0,l.jsxs)(eN,{className:"sticky top-0 z-10 bg-white",children:[(0,l.jsx)(ev,{className:"text-black",children:e.title}),(0,l.jsx)(ek,{onClick:()=>e.closeHandler(e.closeName),children:(0,l.jsx)(p.aHS,{className:"w-5 h-5 mr-2"})})]}),e.children]})]}):null," "]})}let eC="http://192.168.1.176:3001",eT=async()=>{let e=await fetch("".concat(eC,"/get_employee_info"),{method:"GET",headers:{"Content-Type":"application/json"}});return await e.json()},eD=async(e,t)=>{let a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dateRange:t,productID:e})},l=await fetch("".concat(eC,"/getProductHistory"),a);return await l.json()},eP=async e=>{let t=await fetch("".concat(eC,"/deleteHarware/").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}});return await t.json()},eE=async e=>{let t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},a=await fetch("".concat(eC,"/addHardware"),t);return await a.json()},e_=async()=>{let e=await fetch("".concat(eC,"/getScannerData"),{method:"GET",headers:{"Content-Type":"application/json"}});return await e.json()},eI=async()=>{let e=await fetch("http://192.168.1.224:3002/metrics/global",{method:"GET",headers:{"Content-Type":"application/json"}});return await e.json()},eA=async e=>{let t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},a=await fetch("".concat(eC,"/delProduct"),t);return await a.json()},eO=async()=>{let e=await fetch("".concat(eC,"/getPastYearShipments"),{method:"GET",headers:{"Content-Type":"application/json"}});return await e.json()},eR=async e=>{let t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},a=await fetch("".concat(eC,"/addProdProcess"),t);return await a.json()},eM=async e=>{let t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},a=await fetch("".concat(eC,"/runtimeTest"),t);return await a.json()},eU=async()=>{let e=await fetch("".concat(eC,"/getFuncRegistry"),{method:"GET",headers:{"Content-Type":"application/json"}});return await e.json()},eL=async e=>{let t={body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}},a=await fetch("".concat(eC,"/commitChanges"),t);return await a.json()},eH=async()=>{let e=await fetch("".concat(eC,"/getProductTypes"),{method:"GET",headers:{"Content-Type":"application/json"}});return await e.json()},eF=async e=>{let t={body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}};await fetch("".concat(eC,"/setGlycerinGlobal"),t)},eZ=async()=>{let e=await fetch("".concat(eC,"/getGlycerinGlobal"),{method:"POST",headers:{"Content-Type":"application/json"}});return await e.json()},ez=async e=>{let t={body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}};await fetch("".concat(eC,"/addCompany"),t)},eY=async e=>{let t={body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}};await fetch("".concat(eC,"/deleteCompany"),t)},eG=async e=>{let t={body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}};await fetch("".concat(eC,"/trackProduct"),t)},eV=async()=>{let e=await fetch("".concat(eC,"/getPartnerCompanies"),{method:"POST",headers:{"Content-Type":"application/json"}});return await e.json()},eB=async(e,t)=>{let a={body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}},l=t?await fetch("".concat(eC,"/modify_stored_stock"),a):await fetch("".concat(eC,"/modify_active_stock"),a);return await l.json()},eK=async(e,t)=>{let a={body:JSON.stringify(t),method:"POST",headers:{"Content-Type":"application/json"}},l="add"==e?await fetch("".concat(eC,"/addProduct"),a):await fetch("".concat(eC,"/deleteProduct"),a);return await l.json()},eJ=async()=>{let e=await fetch("".concat(eC,"/getInventory"),{method:"POST",headers:{"Content-Type":"application/json"}});return await e.json()},eW=async()=>{let e=await fetch("".concat(eC,"/get_products_dash"),{method:"POST",headers:{"Content-Type":"application/json"}});return await e.json()},eQ=async e=>{let t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},a=await fetch("".concat(eC,"/get_product_analytics"),t);return await a.json()},eq=async e=>{let t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},a=await fetch("".concat(eC,"/get_shipment_by_date"),t);return await a.json()},eX=async e=>{let t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},a=await fetch("".concat(eC,"/getActivationByDate"),t);return await a.json()},e$=async e=>{let t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},a=await fetch("".concat(eC,"/getReductionByDate"),t);return await a.json()};class e0{constructor(){this.getEmployeeData=async()=>await eT(),this.getProductHistory=async(e,t)=>await eD(e,t),this.addScanner=async e=>await eE(e),this.deleteScanner=async e=>await eP(e),this.getScannerData=async()=>await e_(),this.getGlobalMetrics=async()=>await eI(),this.deleteProduct=async e=>await eA(e),this.getPastYearShipments=async()=>await eO(),this.addProductProcess=async e=>await eR(e),this.runtimeTest=async e=>await eM(e),this.fetchRegistry=async()=>await eU(),this.commitChanges=async e=>await eL(e),this.getProductTypes=async()=>await eH(),this.setGlobalGlycerin=async e=>{await eF(e)},this.getGlobalGlycerin=async()=>await eZ(),this.addCompany=async e=>{await ez(e)},this.deleteCompany=async e=>{await eY(e)},this.updateTracking=async e=>{eG(e)},this.getProducts=async()=>await eW(),this.getProductAnalytics=async e=>await eQ(e),this.getShipmentByDate=async e=>await eq(e),this.getProductsInventory=async()=>await eJ(),this.getActivationByDate=async e=>await eX(e),this.getReductionbyDate=async e=>await e$(e),this.manageProducts=async(e,t)=>await eK(e,t),this.updateStock=async(e,t)=>await eB(e,t),this.getPartnerCompanies=async()=>await eV()}}let e1=new e0,e2=e=>{let[t,a]=(0,s.useState)(!1),[n,r]=(0,s.useState)(e.data.data),i=()=>{a(!t)},c=t=>{e.setData(t),a(!1)};return(0,l.jsx)(l.Fragment,{children:n.length>0&&(0,l.jsxs)("div",{className:"relative inline-block text-left",children:[(0,l.jsxs)("button",{type:"button",className:"inline-flex justify-center w-full rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-indigo-500",id:"options-menu","aria-haspopup":"true","aria-expanded":t?"true":"false",onClick:i,children:[e.dataValue,(0,l.jsx)("svg",{className:"-mr-1 ml-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M6.293 6.293a1 1 0 011.414 0L10 8.586l2.293-2.293a1 1 0 011.414 0l.707.707a1 1 0 010 1.414L11.414 10l2.293 2.293a1 1 0 010 1.414l-.707.707a1 1 0 01-1.414 0L10 11.414l-2.293 2.293a1 1 0 01-1.414 0l-.707-.707z",clipRule:"evenodd"})})]}),(0,l.jsx)("div",{className:"".concat(t?"block":"hidden"," absolute z-50 mt-1 w-full bg-white shadow-lg"),"aria-labelledby":"options-menu",role:"menu",onClick:e=>e.stopPropagation(),children:n.map(e=>(0,l.jsx)("button",{className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900 w-full text-left",role:"menuitem",onClick:()=>c(e),children:e},e))})]})})};function e4(e){var t,a,n;let[r,i]=(0,s.useState)([]),[c,d]=(0,s.useState)([]),[o,x]=(0,s.useState)(null),[h,p]=(0,s.useState)(""),[m,u]=(0,s.useState)(!1),[b,g]=(0,s.useState)([]),[y,j]=(0,s.useState)([]),[f,w]=(0,s.useState)("ALL PRODUCTS"),[N,v]=(0,s.useState)([]),[k,S]=(0,s.useState)(!1),C=()=>{u(!0),setTimeout(()=>{u(!1)},300)},T=async()=>{S(!0);try{let e={},t=b.find(e=>e.label===f);if("ALL PRODUCTS"!==f){e={company:t.typeID};let a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},l=await fetch("http://192.168.1.176:3001/gen_inv_pdf_by_company",a),s=await l.blob(),n=URL.createObjectURL(s),r=window.open(n);r.onload=()=>{URL.revokeObjectURL(n)}}else{let e=await fetch("http://192.168.1.176:3001/gen_inv_pdf_A4",{method:"POST",headers:{"Content-Type":"application/json"}}),t=await e.blob(),a=URL.createObjectURL(t),l=window.open(a);l.onload=()=>{URL.revokeObjectURL(a)}}}catch(e){console.log(e)}S(!1)},D=async()=>{let e=new Map,t=await e1.getGlobalMetrics();t.perHourMonthTimeFrame.forEach(t=>{let a=parseFloat(t.total);a>0?e.set(t.product_id,a):e.set(t.product_id,0)}),v(e);let a=await e1.getProductsInventory(),l=new Map(a.data.map(e=>[e.PRODUCT_ID,e])),s=await e1.getProducts(),n=new Map(s.data.map(e=>[e.PRODUCT_ID,e])),r=s.data.map(e=>{let t=l.get(e.PRODUCT_ID);if(!n.has(e.PRODUCT_ID))return{...e,focus:!1,alert:!1,...t};{let a=n.get(e.PRODUCT_ID);return null!=a.MIN_LIMIT&&t.STORED_STOCK<=a.MIN_LIMIT?{...e,focus:!1,alert:!0,...t}:{...e,focus:!1,alert:!1,...t}}});if("ALL PRODUCTS"!==f){let e=b.filter(e=>e.label===f),t=r.filter(t=>t.COMPANY===e[0].typeID);i(t)}else i(r)},P=async()=>{let e=await e1.getPartnerCompanies(),t=e.data.map(e=>({label:e.NAME,value:!1,typeID:e.COMPANY_ID}));t.unshift({label:"ALL PRODUCTS",value:!0,typeID:"0"});let a=t.map(e=>"".concat(e.label));g(t),j(a)};(0,s.useEffect)(()=>{P()},[]),(0,s.useEffect)(()=>{p(""),D()},[f]),(0,s.useEffect)(()=>{D()},[]),(0,s.useEffect)(()=>{m&&D()},[m]),(0,s.useEffect)(()=>{d(r)},[r]),(0,s.useEffect)(()=>{if(""===h)return d(r);{let e=c.filter(e=>e.NAME.toLowerCase().includes(h.toLowerCase()));d(e)}},[h]);let E=c.map((e,s)=>(0,l.jsxs)("tr",{className:"".concat(s%2==0?"bg-gray-100":"bg-white"," ").concat(e.alert?"bg-rose-600":""),onClick:()=>x(e),children:[(0,l.jsx)("td",{className:"px-4 py-2 border text-black",children:0===N.get(e.PRODUCT_ID)?"N/A":N.get(e.PRODUCT_ID)}),(0,l.jsx)("td",{className:"px-4 py-2 border text-black",children:e.NAME}),(0,l.jsx)(em.Z,{title:"TOTAL STOCK",placement:"left",arrow:!0,children:(0,l.jsx)("td",{className:"px-4 py-2 border text-black",children:null!==(t=Math.round(e.STOCK))&&void 0!==t?t:"N/A"})}),(0,l.jsx)(em.Z,{title:"Active Stock",placement:"left",arrow:!0,children:(0,l.jsx)("td",{className:"px-4 py-2 border text-black",children:null!==(a=Math.round(e.ACTIVE_STOCK))&&void 0!==a?a:"N/A"})}),(0,l.jsx)(em.Z,{title:"Stored Stock",placement:"left",arrow:!0,children:(0,l.jsx)("td",{className:"px-4 py-2 border text-black",children:null!==(n=Math.round(e.STORED_STOCK))&&void 0!==n?n:"N/A"})})]},e.PRODUCT_ID));return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(eS,{visible:e.visible,closeHandler:e.closeHandler,title:"View Inventory",closeName:"viewInv",children:(0,l.jsxs)("div",{className:"container mx-auto p-4 flex flex-col h-full",children:[(0,l.jsxs)("div",{className:"flex justify-between mb-3",children:[(0,l.jsx)("button",{onClick:()=>C(),className:"bg-zuma-login text-white px-4 py-2 rounded-md",children:"Refresh"}),(0,l.jsx)(e2,{setData:w,dataValue:f,data:{data:y}}),(0,l.jsx)("button",{onClick:()=>k?()=>{}:T(),className:"bg-zuma-login text-white px-4 py-2 rounded-md",children:"Print"})]}),k&&(0,l.jsx)("h1",{className:"text-black",children:"Generating PDF..."}),(0,l.jsxs)("div",{className:"h-[72vh] overflow-y-auto",children:[(0,l.jsx)("input",{value:h,onChange:e=>p(e.target.value),className:"w-full mb-4 p-2 border rounded-lg text-black sticky top-0 bg-white",placeholder:"Search..."}),(0,l.jsxs)("table",{className:"min-w-full border-collapse",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"bg-gray-300",children:[(0,l.jsx)("th",{className:"px-4 py-2 border text-black",children:"Reduction Rate"}),(0,l.jsx)("th",{className:"px-4 py-2 border text-black",children:"Name"}),(0,l.jsx)("th",{className:"px-4 py-2 border text-black",children:"Stock"}),(0,l.jsx)("th",{className:"px-4 py-2 border text-black",children:"Active Stock"}),(0,l.jsx)("th",{className:"px-4 py-2 border text-black",children:"Stored Stock"})]})}),(0,l.jsx)("tbody",{children:E})]})]})]})})})}let e3=new e0;function e5(e){let[t,a]=(0,s.useState)([]),[n,r]=(0,s.useState)(new Date),[i,c]=(0,s.useState)([]),d=e=>{let t=new Intl.DateTimeFormat("en-US",{timeZone:"America/Los_Angeles",year:"numeric",month:"2-digit",day:"2-digit"}).format(e),[a,l,s]=t.split("/");return"".concat(s,"-").concat(a,"-").concat(l)},o=async e=>{let t=d(e),l=await e3.getShipmentByDate({date:t});a(l.data)},x=async()=>{let e=await e3.getPastYearShipments();c(e.data.map(e=>new Date(e)))};(0,s.useEffect)(()=>{o(n),x()},[]),(0,s.useEffect)(()=>{n&&o(n)},[n]);let h=e=>{r(e),o(e)},p=t.map((e,t)=>(0,l.jsxs)("tr",{className:t%2==0?"bg-white border":"bg-gray-200 border",children:[(0,l.jsx)("td",{className:"px-4 py-2 text-black bg-rose-300",children:e.PRODUCT_ID}),(0,l.jsx)("td",{className:"px-4 py-2 text-black",children:e.PRODUCT_NAME?e.PRODUCT_NAME:"N/A"}),(0,l.jsx)("td",{className:"px-4 py-2 text-black",children:e.QUANTITY}),(0,l.jsx)("td",{className:"px-4 py-2 text-black",children:new Date(e.SHIPMENT_DATE).toLocaleDateString("en-US",{timeZone:"America/Los_Angeles",month:"2-digit",day:"2-digit",year:"numeric"})}),(0,l.jsx)("td",{className:"px-4 py-2 text-black",children:e.COMPANY_ID}),(0,l.jsx)("td",{className:"px-4 py-2 text-black",children:e.EMPLOYEE_NAME?e.EMPLOYEE_NAME:"N/A"})]},e.ID));return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(eS,{visible:e.visible,closeHandler:e.closeHandler,title:"View Product Shipments",closeName:"shipment",children:(0,l.jsxs)("div",{className:"container mx-auto p-4",children:[(0,l.jsx)(u(),{selected:n,onChange:h,highlightDates:i,className:"mb-4 p-2 border rounded-lg text-black",dateFormat:"yyyy-MM-dd"}),(0,l.jsx)("div",{className:"overflow-y-auto max-h-130 mx-auto",children:(0,l.jsx)("table",{className:"min-w-full border-collapse text-center",children:t.length>0?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("thead",{className:"bg-gray-400",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-4 py-2 border text-black",children:"Product ID"}),(0,l.jsx)("th",{className:"px-4 py-2 border text-black",children:"Product Name"}),(0,l.jsx)("th",{className:"px-4 py-2 border text-black",children:"Quantity"}),(0,l.jsx)("th",{className:"px-4 py-2 border text-black",children:"Date"}),(0,l.jsx)("th",{className:"px-4 py-2 border text-black",children:"Company ID"}),(0,l.jsx)("th",{className:"px-4 py-2 border text-black",children:"Employee"})]})}),(0,l.jsx)("tbody",{children:p})]}):(0,l.jsx)("h1",{className:"text-black text-3xl",children:"No Shipments for this date"})})})]})})})}let e8=new e0;function e6(e){let[t,a]=(0,s.useState)([]),[n,r]=(0,s.useState)(new Date().toISOString().split("T")[0]),i=async()=>{let e=await e8.getActivationByDate({date:n});a(e.data)};(0,s.useEffect)(()=>{i()},[]),(0,s.useEffect)(()=>{n&&i()},[n]);let c=e=>{r(e.target.value)},d=t.map((e,t)=>(0,l.jsxs)("tr",{className:t%2==0?"bg-white border":"bg-gray-200 border",children:[(0,l.jsx)("td",{className:"px-4 py-2 text-black bg-rose-300",children:e.PRODUCT_ID}),(0,l.jsx)("td",{className:"px-4 py-2 text-black",children:e.PRODUCT_NAME?e.PRODUCT_NAME:"N/A"}),(0,l.jsx)("td",{className:"px-4 py-2 text-black",children:e.QUANTITY}),(0,l.jsx)("td",{className:"px-4 py-2 text-black",children:new Date(e.DATE).toDateString()}),(0,l.jsx)("td",{className:"px-4 py-2 text-black",children:"N/A"}),(0,l.jsx)("td",{className:"px-4 py-2 text-black",children:e.EMPLOYEE_NAME?e.EMPLOYEE_NAME:"N/A"})]},e.ACTIVATION_ID));return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(eS,{visible:e.visible,closeHandler:e.closeHandler,title:"View Product Activations",closeName:"activation",children:(0,l.jsxs)("div",{className:"container mx-auto p-4",children:[(0,l.jsx)("input",{type:"date",value:n,onChange:c,className:"mb-4 p-2 border rounded-lg text-black"}),(0,l.jsx)("div",{className:"overflow-y-auto max-h-130 mx-auto",children:(0,l.jsx)("table",{className:"min-w-full border-collapse text-center",children:t.length>0?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("thead",{className:"bg-gray-400",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-4 py-2 border text-black",children:"Product ID"}),(0,l.jsx)("th",{className:"px-4 py-2 border text-black",children:"Product Name"}),(0,l.jsx)("th",{className:"px-4 py-2 border text-black",children:"Quantity"}),(0,l.jsx)("th",{className:"px-4 py-2 border text-black",children:"Date"}),(0,l.jsx)("th",{className:"px-4 py-2 border text-black",children:"Company ID"}),(0,l.jsx)("th",{className:"px-4 py-2 border text-black",children:"Employee"})]})}),(0,l.jsx)("tbody",{children:d})," "]}):(0,l.jsx)("h1",{className:"text-black text-3xl",children:"No Product Activations for this date"})})})]})})})}let e7=new e0;function e9(e){let[t,a]=(0,s.useState)([]),[n,r]=(0,s.useState)(new Date().toISOString().split("T")[0]),i=async()=>{let e=await e7.getReductionbyDate({date:n});a(e.data)};(0,s.useEffect)(()=>{i()},[]),(0,s.useEffect)(()=>{n&&i()},[n]);let c=e=>{r(e.target.value)},d=t.map((e,t)=>(0,l.jsxs)("tr",{className:t%2==0?"bg-white border":"bg-gray-200 border",children:[(0,l.jsx)("td",{className:"px-4 py-2 text-black bg-rose-300",children:e.PRODUCT_ID}),(0,l.jsx)("td",{className:"px-4 py-2 text-black",children:e.PRODUCT_NAME?e.PRODUCT_NAME:"N/A"}),(0,l.jsx)("td",{className:"px-4 py-2 text-black",children:e.QUANTITY.toFixed(2)}),(0,l.jsx)("td",{className:"px-4 py-2 text-black",children:new Date(e.DATETIME).toDateString()}),(0,l.jsx)("td",{className:"px-4 py-2 text-black",children:"N/A"}),(0,l.jsx)("td",{className:"px-4 py-2 text-black",children:e.EMPLOYEE_NAME?e.EMPLOYEE_NAME:"N/A"})]},e.CONSUMP_ID));return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(eS,{visible:e.visible,closeHandler:e.closeHandler,title:"View Product Reductions",closeName:"reduction",children:(0,l.jsxs)("div",{className:"container mx-auto p-4",children:[(0,l.jsx)("input",{type:"date",value:n,onChange:c,className:"mb-4 p-2 border rounded-lg text-black"}),(0,l.jsx)("div",{className:"overflow-y-auto max-h-96 mx-auto",children:(0,l.jsx)("table",{className:"min-w-full border-collapse text-center",children:t.length>0?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("thead",{className:"bg-gray-400",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-4 py-2 border text-black",children:"Product ID"}),(0,l.jsx)("th",{className:"px-4 py-2 border text-black",children:"Product Name"}),(0,l.jsx)("th",{className:"px-4 py-2 border text-black",children:"Quantity"}),(0,l.jsx)("th",{className:"px-4 py-2 border text-black",children:"Date"}),(0,l.jsx)("th",{className:"px-4 py-2 border text-black",children:"Company ID"}),(0,l.jsx)("th",{className:"px-4 py-2 border text-black",children:"Employee"})]})}),(0,l.jsx)("tbody",{children:d})," "]}):(0,l.jsx)("h1",{className:"text-black text-3xl",children:"No Product Reductions for this date"})})})]})})})}function te(e){let t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",l=a.length;for(let s=0;s<e;s++)t+=a.charAt(Math.floor(Math.random()*l));return t}function tt(e){let[t,a]=(0,s.useState)([]),[n,r]=(0,s.useState)([]),[i,c]=(0,s.useState)([]),[d,o]=(0,s.useState)(""),[x,h]=(0,s.useState)({name:"",description:"",price:"",type:"",location:"4322",company:"",unitType:""}),[p,m]=(0,s.useState)(!1),[u,b]=(0,s.useState)([]),[g,y]=(0,s.useState)([]),[j,f]=(0,s.useState)([]),[w,N]=(0,s.useState)(""),[v,k]=(0,s.useState)(""),[S,C]=(0,s.useState)(""),[T,D]=(0,s.useState)(!1),[P,E]=(0,s.useState)(null),[_,I]=(0,s.useState)(""),[A,O]=(0,s.useState)([]),[R,M]=(0,s.useState)([]),[U,L]=(0,s.useState)(!1),[H,F]=(0,s.useState)({message:"",visible:!1}),[Z,z]=(0,s.useState)({id:"",name:""}),[Y,G]=(0,s.useState)(!1);(0,s.useEffect)(()=>{(async function(){try{let t=await e.api.fetchRegistry(),l=await e.api.getProducts(),s=await e.api.getPartnerCompanies();O(s.data);let n=await e.api.getProductTypes();M(n.data),c(l.data),a(t),function(){let e=[];for(let t=0;t<2;t++)e.push(te(8));r(e)}()}catch(e){console.error("Error fetching data:",e)}})()},[e.api]),(0,s.useEffect)(()=>{p||(b(e=>e.map(e=>e.product.id===n[1]?{...e,product:{id:"",name:""}}:e)),y(e=>e.map(e=>e.product.id===n[1]?{...e,product:{id:"",name:""}}:e)),f(e=>e.map(e=>e.product.id===n[1]?{...e,product:{id:"",name:""}}:e)))},[p,n]);let V=e=>{let{name:t,value:a}=e.target;h({...x,[t]:a})},B=e=>{"activation"===e?b([...u,{class:"",id:"",product:{id:"",name:""},param1:"",param2:"",param3:""}]):"reduction"===e?y([...g,{class:"",id:"",product:{id:"",name:""},param1:"",param2:"",param3:""}]):"shipment"===e&&f([...j,{class:"",id:"",product:{id:"",name:""},param1:"",param2:"",param3:""}])},K=(e,t)=>{if("activation"===t){let t=u.filter((t,a)=>a!==e);b(t),W(t)}else if("reduction"===t){let t=g.filter((t,a)=>a!==e);y(t),Q(t)}else if("shipment"===t){let t=j.filter((t,a)=>a!==e);f(t),q(t)}},J=(e,t,a)=>{let{name:l,value:s}=t.target;if("activation"===a){let t=u.map((t,a)=>a===e?{...t,[l]:s}:t);b(t),W(t)}else if("reduction"===a){let t=g.map((t,a)=>a===e?{...t,[l]:s}:t);y(t),Q(t)}else if("shipment"===a){let t=j.map((t,a)=>a===e?{...t,[l]:s}:t);f(t),q(t)}},W=e=>{let a=e.map(e=>{var a;let l=(null===(a=t.find(t=>t.id===e.id))||void 0===a?void 0:a.desc)||"";return"• ".concat(e.product.name,": ").concat(l)}).join("\n");N(a)},Q=e=>{let a=e.map(e=>{var a;let l=(null===(a=t.find(t=>t.id===e.id))||void 0===a?void 0:a.desc)||"";return"• ".concat(e.product.name,": ").concat(l)}).join("\n");k(a)},q=e=>{let a=e.map(e=>{var a;let l=(null===(a=t.find(t=>t.id===e.id))||void 0===a?void 0:a.desc)||"";return"• ".concat(e.product.name,": ").concat(l)}).join("\n");C(a)},X=e=>t.filter(t=>t.class===e),$=[{PRODUCT_ID:n[0],NAME:"Self (".concat(n[0],")")},...p?[{PRODUCT_ID:n[1],NAME:"Label (".concat(n[1],")")}]:[],...i.filter(e=>e.NAME.toLowerCase().includes(d.toLowerCase()))],ee=(e,t)=>{E(e),I(t),D(!0)},et=()=>{D(!1),o("")},ea=(e,t)=>{if("activation"===_){let a=u.map((a,l)=>l===P?{...a,product:{id:e,name:t}}:a);b(a),W(a)}else if("reduction"===_){let a=g.map((a,l)=>l===P?{...a,product:{id:e,name:t}}:a);y(a),Q(a)}else if("shipment"===_){let a=j.map((a,l)=>l===P?{...a,product:{id:e,name:t}}:a);f(a),q(a)}else"reference"===_&&z({id:e,name:t});et()},el=()=>{G(!Y),Y||z({id:"",name:""})},es=async()=>{L(!0),console.log("Test Product:",{...x,createLabel:p,activationTokens:u,reductionTokens:g,shipmentTokens:j,generatedIDs:n,RefProduct:Z.id||null});let t=await e.api.runtimeTest({...x,createLabel:p,activationTokens:u,reductionTokens:g,shipmentTokens:j,generatedIDs:n,RefProduct:Z.id||null});if(L(!1),console.log(t),t.status){F({message:"Test completed successfully!",visible:!0}),setTimeout(()=>F({message:"",visible:!1}),3e3);let e=t.log.replace(/\n/g,"<br>"),a=window.open("","Log","width=800,height=600");a.document.write("\n        <html>\n          <head><title>Test Log</title></head>\n          <body>\n            <pre>".concat(e,"</pre>\n          </body>\n        </html>\n      ")),a.document.close()}},en=()=>{e.api.addProductProcess({...x,createLabel:p,activationTokens:u,reductionTokens:g,shipmentTokens:j,generatedIDs:n,RefProduct:Z.id||null}),F({message:"Product added successfully!",visible:!0}),setTimeout(()=>F({message:"",visible:!1}),3e3)},er=e=>""!==x[e],ei=()=>{let e=[];for(let t=0;t<2;t++)e.push(te(8));r(e)};return(0,l.jsxs)("div",{style:{color:"black",padding:"20px"},children:[U&&(0,l.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:(0,l.jsx)("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"8px",textAlign:"center"},children:(0,l.jsx)("h2",{children:"Loading..."})})}),H.visible&&(0,l.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100%",backgroundColor:"green",color:"white",padding:"10px",textAlign:"center",zIndex:1001},children:H.message}),(0,l.jsxs)("form",{style:{display:"flex",flexDirection:"column",width:"100%",maxHeight:"62vh",overflowY:"auto"},children:[(0,l.jsx)("button",{type:"button",onClick:ei,style:{display:"block",margin:"20px auto",padding:"10px 20px",backgroundColor:"blue",color:"white",border:"none",borderRadius:"4px"},children:"Generate New IDs"}),(0,l.jsxs)("label",{style:{width:"100%",marginBottom:"10px"},children:["Name:",(0,l.jsx)("input",{type:"text",name:"name",value:x.name,onChange:V,style:{width:"100%",border:er("name")?"2px solid green":"1px solid silver"}})]}),(0,l.jsxs)("label",{style:{width:"100%",marginBottom:"10px"},children:["Description:",(0,l.jsx)("input",{type:"text",name:"description",value:x.description,onChange:V,style:{width:"100%",border:er("description")?"2px solid green":"1px solid silver"}})]}),(0,l.jsxs)("label",{style:{width:"100%",marginBottom:"10px"},children:["Price:",(0,l.jsx)("input",{type:"text",name:"price",value:x.price,onChange:V,style:{width:"100%",border:er("price")?"2px solid green":"1px solid silver"}})]}),(0,l.jsxs)("label",{style:{width:"100%",marginBottom:"10px"},children:["Type:",(0,l.jsxs)("select",{name:"type",value:x.type,onChange:V,style:{width:"100%",border:er("type")?"2px solid green":"1px solid silver"},children:[(0,l.jsx)("option",{value:"",children:"Select Type"}),R.map(e=>(0,l.jsxs)("option",{value:e.TYPE_ID,children:[e.TYPE," (",e.TYPE_ID,")"]},e.TYPE_ID))]})]}),(0,l.jsxs)("label",{style:{width:"100%",marginBottom:"10px"},children:["Location:",(0,l.jsx)("select",{name:"location",value:x.location,onChange:V,style:{width:"100%",border:er("location")?"2px solid green":"1px solid silver"},children:(0,l.jsx)("option",{value:"4322",children:"4322"})})]}),(0,l.jsxs)("label",{style:{width:"100%",marginBottom:"10px"},children:["Company:",(0,l.jsxs)("select",{name:"company",value:x.company,onChange:V,style:{width:"100%",border:er("company")?"2px solid green":"1px solid silver"},children:[(0,l.jsx)("option",{value:"",children:"Select Company"}),A.map(e=>(0,l.jsxs)("option",{value:e.COMPANY_ID,children:[e.NAME," (",e.COMPANY_ID,")"]},e.COMPANY_ID))]})]}),(0,l.jsxs)("label",{style:{width:"100%",marginBottom:"10px"},children:["Unit Type:",(0,l.jsxs)("select",{name:"unitType",value:x.unitType,onChange:V,style:{width:"100%",border:er("unitType")?"2px solid green":"1px solid silver"},children:[(0,l.jsx)("option",{value:"",children:"Select Unit Type"}),(0,l.jsx)("option",{value:"UNIT",children:"UNIT"}),(0,l.jsx)("option",{value:"BUNDLE",children:"BUNDLE"})]})]}),(0,l.jsxs)("label",{style:{width:"100%",marginBottom:"10px"},children:["Reference Stored Stock Product:",(0,l.jsx)("input",{type:"checkbox",checked:Y,onChange:el,style:{marginLeft:"10px"}})]}),Y&&(0,l.jsx)("button",{type:"button",onClick:()=>ee(null,"reference"),style:{display:"block",margin:"10px 0",padding:"10px 20px",backgroundColor:"gray",color:"white",border:"none",borderRadius:"4px"},children:Z.name?Z.name:"Select Product"}),(0,l.jsxs)("label",{style:{width:"100%",marginBottom:"20px"},children:["Create Label For this Product:",(0,l.jsx)("input",{type:"checkbox",checked:p,onChange:e=>m(e.target.checked),style:{marginLeft:"10px"}})]}),(0,l.jsxs)("div",{style:{width:"100%",marginBottom:"1em",backgroundColor:"#333",padding:"20px",borderRadius:"8px"},children:[(0,l.jsx)("h3",{style:{color:"white"},children:"Activation Token"}),(0,l.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{style:{border:"1px solid black",padding:"10px",color:"white"},children:"Index"}),(0,l.jsx)("th",{style:{border:"1px solid black",padding:"10px",color:"white"},children:"Class"}),(0,l.jsx)("th",{style:{border:"1px solid black",padding:"10px",color:"white"},children:"ID"}),(0,l.jsx)("th",{style:{border:"1px solid black",padding:"10px",color:"white"},children:"Product"}),(0,l.jsx)("th",{style:{border:"1px solid black",padding:"10px",color:"white"},children:"Param1"}),(0,l.jsx)("th",{style:{border:"1px solid black",padding:"10px",color:"white"},children:"Param2"}),(0,l.jsx)("th",{style:{border:"1px solid black",padding:"10px",color:"white"},children:"Param3"}),(0,l.jsx)("th",{style:{border:"1px solid black",padding:"10px",color:"white"},children:"Delete"})]})}),(0,l.jsx)("tbody",{children:u.map((e,a)=>{var s,n,r,i,c,d;let o=t.find(t=>t.id===e.id),x=(null==o?void 0:o.meta_data)||{},h={backgroundColor:x.optionalParams>0?"#f0f0f0":"white"};return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{style:{border:"1px solid black",padding:"10px",color:"white"},children:a+1}),(0,l.jsx)("td",{style:{border:"1px solid black",padding:"10px"},children:(0,l.jsxs)("select",{name:"class",value:e.class,onChange:e=>J(a,e,"activation"),style:{width:"100%",color:"black"},children:[(0,l.jsx)("option",{value:"",children:"Select Class"}),(0,l.jsx)("option",{value:"AC",children:"AC"}),(0,l.jsx)("option",{value:"RD",children:"RD"}),(0,l.jsx)("option",{value:"UP",children:"UP"})]})}),(0,l.jsx)("td",{style:{border:"1px solid black",padding:"10px"},children:(0,l.jsxs)("select",{name:"id",value:e.id,onChange:e=>J(a,e,"activation"),style:{width:"100%",color:"black"},children:[(0,l.jsx)("option",{value:"",children:"Select ID"}),X(e.class).map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))]})}),(0,l.jsx)("td",{style:{border:"1px solid black",padding:"10px"},children:(0,l.jsx)("button",{type:"button",onClick:()=>ee(a,"activation"),style:{width:"100%",color:"white"},children:e.product.name?e.product.name:"Select Product"})}),(0,l.jsx)("td",{style:{border:"1px solid black",padding:"10px"},children:(0,l.jsx)(em.Z,{title:(null===(s=x.optionalDesc)||void 0===s?void 0:null===(n=s[0])||void 0===n?void 0:n.desc)||"",arrow:!0,children:(0,l.jsx)("input",{type:"text",name:"param1",value:e.param1,onChange:e=>J(a,e,"activation"),placeholder:"Param1",style:{width:"100%",color:"black",...h}})})}),(0,l.jsx)("td",{style:{border:"1px solid black",padding:"10px"},children:(0,l.jsx)(em.Z,{title:(null===(r=x.optionalDesc)||void 0===r?void 0:null===(i=r[1])||void 0===i?void 0:i.desc)||"",arrow:!0,children:(0,l.jsx)("input",{type:"text",name:"param2",value:e.param2,onChange:e=>J(a,e,"activation"),placeholder:"Param2",style:{width:"100%",color:"black",...h}})})}),(0,l.jsx)("td",{style:{border:"1px solid black",padding:"10px"},children:(0,l.jsx)(em.Z,{title:(null===(c=x.optionalDesc)||void 0===c?void 0:null===(d=c[2])||void 0===d?void 0:d.desc)||"",arrow:!0,children:(0,l.jsx)("input",{type:"text",name:"param3",value:e.param3,onChange:e=>J(a,e,"activation"),placeholder:"Param3",style:{width:"100%",color:"black",...h}})})}),(0,l.jsx)("td",{style:{border:"1px solid black",padding:"10px"},children:(0,l.jsx)("button",{type:"button",onClick:()=>K(a,"activation"),style:{backgroundColor:"red",color:"white",border:"none",borderRadius:"4px",padding:"5px 10px"},children:"Delete"})})]},a)})})]}),(0,l.jsx)("button",{type:"button",onClick:()=>B("activation"),style:{display:"block",margin:"20px auto",padding:"10px 20px",backgroundColor:"#555",color:"white",border:"none",borderRadius:"4px"},children:"+"})]}),(0,l.jsxs)("label",{style:{width:"100%",marginTop:"1px",marginBottom:"50px"},children:["Summary:",(0,l.jsx)("textarea",{value:w,readOnly:!0,style:{width:"100%",color:"black",backgroundColor:"#f5f5f5",padding:"10px",borderRadius:"4px"}})]}),(0,l.jsxs)("div",{style:{width:"100%",marginBottom:"1em",backgroundColor:"#333",padding:"20px",borderRadius:"8px"},children:[(0,l.jsx)("h3",{style:{color:"white"},children:"Reduction Token"}),(0,l.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{style:{border:"1px solid black",padding:"10px",color:"white"},children:"Index"}),(0,l.jsx)("th",{style:{border:"1px solid black",padding:"10px",color:"white"},children:"Class"}),(0,l.jsx)("th",{style:{border:"1px solid black",padding:"10px",color:"white"},children:"ID"}),(0,l.jsx)("th",{style:{border:"1px solid black",padding:"10px",color:"white"},children:"Product"}),(0,l.jsx)("th",{style:{border:"1px solid black",padding:"10px",color:"white"},children:"Param1"}),(0,l.jsx)("th",{style:{border:"1px solid black",padding:"10px",color:"white"},children:"Param2"}),(0,l.jsx)("th",{style:{border:"1px solid black",padding:"10px",color:"white"},children:"Param3"}),(0,l.jsx)("th",{style:{border:"1px solid black",padding:"10px",color:"white"},children:"Delete"})]})}),(0,l.jsx)("tbody",{children:g.map((e,a)=>{var s,n,r,i,c,d;let o=t.find(t=>t.id===e.id),x=(null==o?void 0:o.meta_data)||{},h={backgroundColor:x.optionalParams>0?"#f0f0f0":"white"};return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{style:{border:"1px solid black",padding:"10px",color:"white"},children:a+1}),(0,l.jsx)("td",{style:{border:"1px solid black",padding:"10px"},children:(0,l.jsxs)("select",{name:"class",value:e.class,onChange:e=>J(a,e,"reduction"),style:{width:"100%",color:"black"},children:[(0,l.jsx)("option",{value:"",children:"Select Class"}),(0,l.jsx)("option",{value:"CM",children:"CM"}),(0,l.jsx)("option",{value:"CMUP",children:"CMUP"})]})}),(0,l.jsx)("td",{style:{border:"1px solid black",padding:"10px"},children:(0,l.jsxs)("select",{name:"id",value:e.id,onChange:e=>J(a,e,"reduction"),style:{width:"100%",color:"black"},children:[(0,l.jsx)("option",{value:"",children:"Select ID"}),X(e.class).map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))]})}),(0,l.jsx)("td",{style:{border:"1px solid black",padding:"10px"},children:(0,l.jsx)("button",{type:"button",onClick:()=>ee(a,"reduction"),style:{width:"100%",color:"white"},children:e.product.name?e.product.name:"Select Product"})}),(0,l.jsx)("td",{style:{border:"1px solid black",padding:"10px"},children:(0,l.jsx)(em.Z,{title:(null===(s=x.optionalDesc)||void 0===s?void 0:null===(n=s[0])||void 0===n?void 0:n.desc)||"",arrow:!0,children:(0,l.jsx)("input",{type:"text",name:"param1",value:e.param1,onChange:e=>J(a,e,"reduction"),placeholder:"Param1",style:{width:"100%",color:"black",...h}})})}),(0,l.jsx)("td",{style:{border:"1px solid black",padding:"10px"},children:(0,l.jsx)(em.Z,{title:(null===(r=x.optionalDesc)||void 0===r?void 0:null===(i=r[1])||void 0===i?void 0:i.desc)||"",arrow:!0,children:(0,l.jsx)("input",{type:"text",name:"param2",value:e.param2,onChange:e=>J(a,e,"reduction"),placeholder:"Param2",style:{width:"100%",color:"black",...h}})})}),(0,l.jsx)("td",{style:{border:"1px solid black",padding:"10px"},children:(0,l.jsx)(em.Z,{title:(null===(c=x.optionalDesc)||void 0===c?void 0:null===(d=c[2])||void 0===d?void 0:d.desc)||"",arrow:!0,children:(0,l.jsx)("input",{type:"text",name:"param3",value:e.param3,onChange:e=>J(a,e,"reduction"),placeholder:"Param3",style:{width:"100%",color:"black",...h}})})}),(0,l.jsx)("td",{style:{border:"1px solid black",padding:"10px"},children:(0,l.jsx)("button",{type:"button",onClick:()=>K(a,"reduction"),style:{backgroundColor:"red",color:"white",border:"none",borderRadius:"4px",padding:"5px 10px"},children:"Delete"})})]},a)})})]}),(0,l.jsx)("button",{type:"button",onClick:()=>B("reduction"),style:{display:"block",margin:"20px auto",padding:"10px 20px",backgroundColor:"#555",color:"white",border:"none",borderRadius:"4px"},children:"+"})]}),(0,l.jsxs)("label",{style:{width:"100%",marginTop:"1px",marginBottom:"50px"},children:["Summary:",(0,l.jsx)("textarea",{value:v,readOnly:!0,style:{width:"100%",color:"black",backgroundColor:"#f5f5f5",padding:"10px",borderRadius:"4px"}})]}),(0,l.jsxs)("div",{style:{width:"100%",marginBottom:"1em",backgroundColor:"#333",padding:"20px",borderRadius:"8px"},children:[(0,l.jsx)("h3",{style:{color:"white"},children:"Shipment Token"}),(0,l.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{style:{border:"1px solid black",padding:"10px",color:"white"},children:"Index"}),(0,l.jsx)("th",{style:{border:"1px solid black",padding:"10px",color:"white"},children:"Class"}),(0,l.jsx)("th",{style:{border:"1px solid black",padding:"10px",color:"white"},children:"ID"}),(0,l.jsx)("th",{style:{border:"1px solid black",padding:"10px",color:"white"},children:"Product"}),(0,l.jsx)("th",{style:{border:"1px solid black",padding:"10px",color:"white"},children:"Param1"}),(0,l.jsx)("th",{style:{border:"1px solid black",padding:"10px",color:"white"},children:"Param2"}),(0,l.jsx)("th",{style:{border:"1px solid black",padding:"10px",color:"white"},children:"Param3"}),(0,l.jsx)("th",{style:{border:"1px solid black",padding:"10px",color:"white"},children:"Delete"})]})}),(0,l.jsx)("tbody",{children:j.map((e,a)=>{var s,n,r,i,c,d;let o=t.find(t=>t.id===e.id),x=(null==o?void 0:o.meta_data)||{},h={backgroundColor:x.optionalParams>0?"#f0f0f0":"white"};return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{style:{border:"1px solid black",padding:"10px",color:"white"},children:a+1}),(0,l.jsx)("td",{style:{border:"1px solid black",padding:"10px"},children:(0,l.jsxs)("select",{name:"class",value:e.class,onChange:e=>J(a,e,"shipment"),style:{width:"100%",color:"black"},children:[(0,l.jsx)("option",{value:"",children:"Select Class"}),(0,l.jsx)("option",{value:"SH",children:"SH"}),(0,l.jsx)("option",{value:"UP",children:"UP"})]})}),(0,l.jsx)("td",{style:{border:"1px solid black",padding:"10px"},children:(0,l.jsxs)("select",{name:"id",value:e.id,onChange:e=>J(a,e,"shipment"),style:{width:"100%",color:"black"},children:[(0,l.jsx)("option",{value:"",children:"Select ID"}),X(e.class).map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))]})}),(0,l.jsx)("td",{style:{border:"1px solid black",padding:"10px"},children:(0,l.jsx)("button",{type:"button",onClick:()=>ee(a,"shipment"),style:{width:"100%",color:"white"},children:e.product.name?e.product.name:"Select Product"})}),(0,l.jsx)("td",{style:{border:"1px solid black",padding:"10px"},children:(0,l.jsx)(em.Z,{title:(null===(s=x.optionalDesc)||void 0===s?void 0:null===(n=s[0])||void 0===n?void 0:n.desc)||"",arrow:!0,children:(0,l.jsx)("input",{type:"text",name:"param1",value:e.param1,onChange:e=>J(a,e,"shipment"),placeholder:"Param1",style:{width:"100%",color:"black",...h}})})}),(0,l.jsx)("td",{style:{border:"1px solid black",padding:"10px"},children:(0,l.jsx)(em.Z,{title:(null===(r=x.optionalDesc)||void 0===r?void 0:null===(i=r[1])||void 0===i?void 0:i.desc)||"",arrow:!0,children:(0,l.jsx)("input",{type:"text",name:"param2",value:e.param2,onChange:e=>J(a,e,"shipment"),placeholder:"Param2",style:{width:"100%",color:"black",...h}})})}),(0,l.jsx)("td",{style:{border:"1px solid black",padding:"10px"},children:(0,l.jsx)(em.Z,{title:(null===(c=x.optionalDesc)||void 0===c?void 0:null===(d=c[2])||void 0===d?void 0:d.desc)||"",arrow:!0,children:(0,l.jsx)("input",{type:"text",name:"param3",value:e.param3,onChange:e=>J(a,e,"shipment"),placeholder:"Param3",style:{width:"100%",color:"black",...h}})})}),(0,l.jsx)("td",{style:{border:"1px solid black",padding:"10px"},children:(0,l.jsx)("button",{type:"button",onClick:()=>K(a,"shipment"),style:{backgroundColor:"red",color:"white",border:"none",borderRadius:"4px",padding:"5px 10px"},children:"Delete"})})]},a)})})]}),(0,l.jsx)("button",{type:"button",onClick:()=>B("shipment"),style:{display:"block",margin:"20px auto",padding:"10px 20px",backgroundColor:"#555",color:"white",border:"none",borderRadius:"4px"},children:"+"})]}),(0,l.jsxs)("label",{style:{width:"100%",marginTop:"1px",marginBottom:"50px"},children:["Summary:",(0,l.jsx)("textarea",{value:S,readOnly:!0,style:{width:"100%",color:"black",backgroundColor:"#f5f5f5",padding:"10px",borderRadius:"4px"}})]}),(0,l.jsx)("button",{type:"button",onClick:es,style:{display:"block",margin:"20px auto",padding:"10px 20px",backgroundColor:"orange",color:"white",border:"none",borderRadius:"4px"},children:"Test Product"}),(0,l.jsx)("button",{type:"button",onClick:en,style:{display:"block",margin:"20px auto",padding:"10px 20px",backgroundColor:"green",color:"white",border:"none",borderRadius:"4px"},children:"Create Product"})]}),T&&(0,l.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:(0,l.jsxs)("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"8px",width:"80%",maxHeight:"80%",overflowY:"auto"},children:[(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1em"},children:[(0,l.jsx)("input",{type:"text",placeholder:"Search products...",value:d,onChange:e=>o(e.target.value),style:{width:"80%",color:"black"}}),(0,l.jsx)("button",{onClick:et,style:{backgroundColor:"red",color:"white",marginLeft:"10px",padding:"10px",borderRadius:"4px"},children:"Back"})]}),(0,l.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,l.jsx)("thead",{children:(0,l.jsx)("tr",{children:(0,l.jsx)("th",{style:{border:"1px solid black",padding:"10px",backgroundColor:"black",color:"white"},children:"Product Name"})})}),(0,l.jsx)("tbody",{children:$.map((e,t)=>(0,l.jsx)("tr",{onClick:()=>ea(e.PRODUCT_ID,e.NAME),style:{cursor:"pointer",borderBottom:"1px solid black",backgroundColor:t%2==0?"white":"#d1d5db"},children:(0,l.jsx)("td",{style:{padding:"10px",color:"black"},children:e.NAME})},e.PRODUCT_ID))})]})]})})]})}function ta(e){let[t,a]=(0,s.useState)([]),[n,r]=(0,s.useState)(null),[i,c]=(0,s.useState)(""),[d,o]=(0,s.useState)(!1),[x,h]=(0,s.useState)([]),[m,u]=(0,s.useState)([]),[b,g]=(0,s.useState)("All"),[y,j]=(0,s.useState)({}),[f,w]=(0,s.useState)(!1),[N,v]=(0,s.useState)([]),[k,S]=(0,s.useState)([]),[C,T]=(0,s.useState)([]),[D,P]=(0,s.useState)([]),[E,_]=(0,s.useState)(!1),I=(0,s.useRef)(null),A=(0,s.useRef)(null),O=(0,s.useRef)(null),R=(0,s.useRef)("All"),[M,U]=(0,s.useState)(!1),[L,H]=(0,s.useState)(null),[F,Z]=(0,s.useState)(""),[z,Y]=(0,s.useState)("");(0,s.useEffect)(()=>{let t=async()=>{let t=await e.api.getPartnerCompanies();h(t.data);let l=await e.api.getProducts();a(l.data);let s=await e.api.getProductTypes();u(s.data);let n=await e.api.fetchRegistry();v(n)};t()},[e.api]),(0,s.useEffect)(()=>{if(n){O.current=J.findIndex(e=>e.PRODUCT_ID===n.PRODUCT_ID);let e=n.ACTIVATION_TOKEN?n.ACTIVATION_TOKEN.split(" ").filter(e=>e).map(e=>G(e,"activation")):[],t=n.REDUCTION_TOKEN?n.REDUCTION_TOKEN.split(" ").filter(e=>G(e,"reduction").product.id).map(e=>G(e,"reduction")):[],a=n.SHIPMENT_TOKEN?n.SHIPMENT_TOKEN.split(" ").filter(e=>e).map(e=>G(e,"shipment")):[];S(e),T(t),P(a)}},[n]);let G=(e,t)=>{let a=e.split(":");return{class:a[0],id:a[1],product:{id:a[2],name:V(a[2])},param1:a[3]||"",param2:a[4]||"",param3:a[5]||""}},V=e=>{let a=t.find(t=>t.PRODUCT_ID===e);return a?a.NAME:""},B=e=>{r(e),j({TYPE:e.TYPE,COMPANY:e.COMPANY,NAME:e.NAME,UNIT_TYPE:e.UNIT_TYPE,LOCATION:e.LOCATION}),R.current=b,o(!1),w(!1)},K=e=>{g(e.target.value)},J=t.filter(e=>{let t=e.NAME.toLowerCase().includes(i.toLowerCase()),a="All"===b||e.COMPANY===b;return t&&a}),W=(0,s.useCallback)(()=>{if(A.current&&I.current){let e=A.current.clientHeight,t=I.current.clientHeight,a=O.current;null!==a&&a>=0&&I.current.scrollTo({top:a*e-t/2+e/2,behavior:"smooth"})}},[]),Q=()=>{o(e=>(e||null===O.current||(g(R.current),setTimeout(W,0)),!e))},q=(e,t)=>{j(a=>({...a,[e]:t}))},X=async()=>{let t=Object.keys(y).reduce((e,t)=>(y[t]!==n[t]&&e.push({field:t,value:y[t]}),e),[]),l={PRODUCT_ID:n.PRODUCT_ID,updates:t,ACTIVATION_TOKEN:$(k),REDUCTION_TOKEN:$(C),SHIPMENT_TOKEN:$(D),tokenChanged:E};console.log("Payload:",l);let s=await e.api.commitChanges(l);!0===s.status?(a(e=>e.map(e=>e.PRODUCT_ID===n.PRODUCT_ID?{...e,...y}:e)),w(!0)):console.error("Failed to update product")},$=e=>e.map(e=>"".concat(e.class,":").concat(e.id,":").concat(e.product.id).concat(e.param1?":".concat(e.param1):"").concat(e.param2?":".concat(e.param2):"").concat(e.param3?":".concat(e.param3):"")).join(" ").trim(),ee=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=void 0!==y[t]&&y[t]!==n[t],r=a.length>0;return(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block mb-2 text-black",children:e}),(0,l.jsxs)("div",{className:"relative",children:[r?(0,l.jsx)("select",{value:y[t]||n[t]||"",onChange:e=>q(t,e.target.value),className:"w-full p-2 border ".concat(s?"border-green-500":"border-gray-300"," rounded text-black"),children:a.map(e=>(0,l.jsx)("option",{value:e.value,children:"".concat(e.value," - ").concat(e.label)},e.value))}):(0,l.jsx)("input",{type:"text",value:y[t]||n[t]||"",onChange:e=>q(t,e.target.value),className:"w-full p-2 border ".concat(s?"border-green-500":"border-gray-300"," rounded text-black")}),s&&(0,l.jsx)("span",{className:"absolute right-2 top-2 text-green-500",children:"Edited"})]})]})},et=async()=>{let t=prompt("Enter password to delete the product:");if("zumadelete"===t){let t=window.confirm("Are you sure you want to delete this product?");if(t)try{let t=await e.api.deleteProduct({PRODUCT_ID:n.PRODUCT_ID});!0===t.status?(alert("Product deleted successfully"),a(e=>e.filter(e=>e.PRODUCT_ID!==n.PRODUCT_ID)),r(null)):alert("Product deletion failed")}catch(e){console.error("Error deleting product:",e),alert("An error occurred while deleting the product")}}else alert("Incorrect password. Deletion cancelled.")},ea=(e,t)=>{H(e),Z(t),U(!0)},el=()=>{U(!1),Y("")},es=(e,t)=>{if(_(!0),"activation"===F){let a=k.map((a,l)=>l===L?{...a,product:{id:e,name:t}}:a);S(a)}else if("reduction"===F){let a=C.map((a,l)=>l===L?{...a,product:{id:e,name:t}}:a);T(a)}else if("shipment"===F){let a=D.map((a,l)=>l===L?{...a,product:{id:e,name:t}}:a);P(a)}el()},en=(e,t,a)=>{let{name:l,value:s}=t.target;if(_(!0),"activation"===a){let t=k.map((t,a)=>a===e?{...t,[l]:s}:t);S(t)}else if("reduction"===a){let t=C.map((t,a)=>a===e?{...t,[l]:s}:t);T(t)}else if("shipment"===a){let t=D.map((t,a)=>a===e?{...t,[l]:s}:t);P(t)}},er=e=>{_(!0),"activation"===e?S([...k,{class:"",id:"",product:{id:"",name:""},param1:"",param2:"",param3:""}]):"reduction"===e?T([...C,{class:"",id:"",product:{id:"",name:""},param1:"",param2:"",param3:""}]):"shipment"===e&&P([...D,{class:"",id:"",product:{id:"",name:""},param1:"",param2:"",param3:""}])},ei=(e,t)=>{if(_(!0),"activation"===t){let t=k.filter((t,a)=>a!==e);S(t)}else if("reduction"===t){let t=C.filter((t,a)=>a!==e);T(t)}else if("shipment"===t){let t=D.filter((t,a)=>a!==e);P(t)}};return(0,l.jsxs)("div",{className:"relative h-[62vh]",children:[(0,l.jsx)("button",{onClick:Q,className:"w-full p-4 bg-orange-400 text-white rounded mb-2 text-lg font-semibold",children:n?"".concat(n.NAME," (press to select another product)"):"Select a Product"}),d&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:Q}),(0,l.jsx)("div",{className:"fixed inset-0 flex items-start justify-center z-50 p-4",children:(0,l.jsxs)("div",{className:"bg-white rounded shadow-lg w-full max-w-3xl",children:[(0,l.jsxs)("div",{className:"sticky top-0 bg-white z-10 p-4 flex items-center",children:[(0,l.jsxs)("div",{className:"relative flex-grow",children:[(0,l.jsx)(p.U41,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,l.jsx)("input",{type:"text",value:i,onChange:e=>c(e.target.value),placeholder:"Search products...",className:"w-full p-2 pl-10 border border-gray-300 rounded text-black bg-gray-100"})]}),(0,l.jsx)("button",{onClick:Q,className:"ml-4 bg-red-500 text-white p-2 rounded",children:"Back"})]}),(0,l.jsxs)("select",{value:b,onChange:K,className:"w-full p-2 border-t border-b border-gray-300 mt-2 text-black bg-gray-100",children:[(0,l.jsx)("option",{value:"All",children:"All Companies"}),x.map(e=>(0,l.jsx)("option",{value:e.COMPANY_ID,children:e.NAME},e.COMPANY_ID))]}),(0,l.jsx)("div",{ref:I,className:"h-[40vh] overflow-y-auto border-t border-gray-300",children:(0,l.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,l.jsx)("thead",{className:"bg-gray-400 sticky top-0 z-10",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Name"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Product ID"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Type"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Company"})]})}),(0,l.jsx)("tbody",{className:"bg-gray-700 text-white divide-y divide-gray-600",children:J.map((e,t)=>(0,l.jsxs)("tr",{ref:0===t?A:null,onClick:()=>B(e),className:"cursor-pointer ".concat(n===e?"bg-orange-500 text-white font-bold":""," ").concat(t%2==0?n===e?"bg-orange-500 text-white font-bold":"bg-gray-600 text-white":n===e?"bg-orange-500 text-white font-bold":"bg-gray-500 text-white"),children:[(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.NAME}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.PRODUCT_ID}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.TYPE}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.COMPANY})]},t))})]})})]})})]}),n&&(0,l.jsxs)("div",{className:"mt-4",children:[f&&(0,l.jsx)("div",{className:"mb-4 p-4 bg-green-100 text-green-800 rounded",children:"Successfully changed objects"}),ee("Name","NAME"),ee("Type","TYPE",m.map(e=>({value:e.TYPE_ID,label:e.TYPE}))),ee("Company","COMPANY",x.map(e=>({value:e.COMPANY_ID,label:e.NAME}))),ee("Unit Type","UNIT_TYPE",[{value:"UNIT",label:"UNIT"},{value:"BUNDLE",label:"BUNDLE"}]),ee("Location","LOCATION",[{value:"4322",label:"4322"}]),(0,l.jsxs)("div",{className:"w-full mb-4 bg-gray-700 p-4 rounded",children:[(0,l.jsx)("h3",{className:"mb-2 text-white",children:"Activation Tokens"}),(0,l.jsxs)("table",{className:"w-full border-collapse",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"border p-2 text-white",children:"Class"}),(0,l.jsx)("th",{className:"border p-2 text-white",children:"ID"}),(0,l.jsx)("th",{className:"border p-2 text-white",children:"Product"}),(0,l.jsx)("th",{className:"border p-2 text-white",children:"Param1"}),(0,l.jsx)("th",{className:"border p-2 text-white",children:"Param2"}),(0,l.jsx)("th",{className:"border p-2 text-white",children:"Param3"}),(0,l.jsx)("th",{className:"border p-2 text-white",children:"Actions"})]})}),(0,l.jsx)("tbody",{children:k.map((e,t)=>(0,l.jsxs)("tr",{className:"".concat(e.class||e.id||e.product.id||e.param1||e.param2||e.param3?"bg-white":""),children:[(0,l.jsx)("td",{className:"border p-2",children:(0,l.jsxs)("select",{name:"class",value:e.class,onChange:e=>en(t,e,"activation"),className:"w-full p-2 text-black",children:[(0,l.jsx)("option",{value:"",children:"Select Class"}),(0,l.jsx)("option",{value:"AC",children:"AC"}),(0,l.jsx)("option",{value:"RD",children:"RD"}),(0,l.jsx)("option",{value:"UP",children:"UP"})]})}),(0,l.jsx)("td",{className:"border p-2",children:(0,l.jsxs)("select",{name:"id",value:e.id,onChange:e=>en(t,e,"activation"),className:"w-full p-2 text-black",children:[(0,l.jsx)("option",{value:"",children:"Select ID"}),N.filter(t=>t.class===e.class).map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))]})}),(0,l.jsx)("td",{className:"border p-2",children:(0,l.jsx)("button",{onClick:()=>ea(t,"activation"),className:"w-full p-2 bg-gray-300 text-black",children:e.product.name||"Select Product"})}),(0,l.jsx)("td",{className:"border p-2",children:(0,l.jsx)("input",{type:"text",name:"param1",value:e.param1,onChange:e=>en(t,e,"activation"),className:"w-full p-2 text-black"})}),(0,l.jsx)("td",{className:"border p-2",children:(0,l.jsx)("input",{type:"text",name:"param2",value:e.param2,onChange:e=>en(t,e,"activation"),className:"w-full p-2 text-black"})}),(0,l.jsx)("td",{className:"border p-2",children:(0,l.jsx)("input",{type:"text",name:"param3",value:e.param3,onChange:e=>en(t,e,"activation"),className:"w-full p-2 text-black"})}),(0,l.jsx)("td",{className:"border p-2",children:(0,l.jsx)("button",{onClick:()=>ei(t,"activation"),className:"w-full p-2 bg-red-500 text-white",children:"Delete"})})]},t))})]}),(0,l.jsx)("button",{onClick:()=>er("activation"),className:"w-full p-2 bg-orange-500 text-white mt-2",children:"Add Activation Token"})]}),(0,l.jsxs)("div",{className:"w-full mb-4 bg-gray-700 p-4 rounded",children:[(0,l.jsx)("h3",{className:"mb-2 text-white",children:"Reduction Tokens"}),(0,l.jsxs)("table",{className:"w-full border-collapse",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"border p-2 text-white",children:"Class"}),(0,l.jsx)("th",{className:"border p-2 text-white",children:"ID"}),(0,l.jsx)("th",{className:"border p-2 text-white",children:"Product"}),(0,l.jsx)("th",{className:"border p-2 text-white",children:"Param1"}),(0,l.jsx)("th",{className:"border p-2 text-white",children:"Param2"}),(0,l.jsx)("th",{className:"border p-2 text-white",children:"Param3"}),(0,l.jsx)("th",{className:"border p-2 text-white",children:"Actions"})]})}),(0,l.jsx)("tbody",{children:C.map((e,t)=>(0,l.jsxs)("tr",{className:"".concat(e.class||e.id||e.product.id||e.param1||e.param2||e.param3?"bg-white":""),children:[(0,l.jsx)("td",{className:"border p-2",children:(0,l.jsxs)("select",{name:"class",value:e.class,onChange:e=>en(t,e,"reduction"),className:"w-full p-2 text-black",children:[(0,l.jsx)("option",{value:"",children:"Select Class"}),(0,l.jsx)("option",{value:"CM",children:"CM"}),(0,l.jsx)("option",{value:"CMUP",children:"CMUP"})]})}),(0,l.jsx)("td",{className:"border p-2",children:(0,l.jsxs)("select",{name:"id",value:e.id,onChange:e=>en(t,e,"reduction"),className:"w-full p-2 text-black",children:[(0,l.jsx)("option",{value:"",children:"Select ID"}),N.filter(t=>t.class===e.class).map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))]})}),(0,l.jsx)("td",{className:"border p-2",children:(0,l.jsx)("button",{onClick:()=>ea(t,"reduction"),className:"w-full p-2 bg-gray-300 text-black",children:e.product.name||"Select Product"})}),(0,l.jsx)("td",{className:"border p-2",children:(0,l.jsx)("input",{type:"text",name:"param1",value:e.param1,onChange:e=>en(t,e,"reduction"),className:"w-full p-2 text-black"})}),(0,l.jsx)("td",{className:"border p-2",children:(0,l.jsx)("input",{type:"text",name:"param2",value:e.param2,onChange:e=>en(t,e,"reduction"),className:"w-full p-2 text-black"})}),(0,l.jsx)("td",{className:"border p-2",children:(0,l.jsx)("input",{type:"text",name:"param3",value:e.param3,onChange:e=>en(t,e,"reduction"),className:"w-full p-2 text-black"})}),(0,l.jsx)("td",{className:"border p-2",children:(0,l.jsx)("button",{onClick:()=>ei(t,"reduction"),className:"w-full p-2 bg-red-500 text-white",children:"Delete"})})]},t))})]}),(0,l.jsx)("button",{onClick:()=>er("reduction"),className:"w-full p-2 bg-orange-500 text-white mt-2",children:"Add Reduction Token"})]}),(0,l.jsxs)("div",{className:"w-full mb-4 bg-gray-700 p-4 rounded",children:[(0,l.jsx)("h3",{className:"mb-2 text-white",children:"Shipment Tokens"}),(0,l.jsxs)("table",{className:"w-full border-collapse",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"border p-2 text-white",children:"Class"}),(0,l.jsx)("th",{className:"border p-2 text-white",children:"ID"}),(0,l.jsx)("th",{className:"border p-2 text-white",children:"Product"}),(0,l.jsx)("th",{className:"border p-2 text-white",children:"Param1"}),(0,l.jsx)("th",{className:"border p-2 text-white",children:"Param2"}),(0,l.jsx)("th",{className:"border p-2 text-white",children:"Param3"}),(0,l.jsx)("th",{className:"border p-2 text-white",children:"Actions"})]})}),(0,l.jsx)("tbody",{children:D.map((e,t)=>(0,l.jsxs)("tr",{className:"".concat(e.class||e.id||e.product.id||e.param1||e.param2||e.param3?"bg-white":""),children:[(0,l.jsx)("td",{className:"border p-2",children:(0,l.jsxs)("select",{name:"class",value:e.class,onChange:e=>en(t,e,"shipment"),className:"w-full p-2 text-black",children:[(0,l.jsx)("option",{value:"",children:"Select Class"}),(0,l.jsx)("option",{value:"SH",children:"SH"}),(0,l.jsx)("option",{value:"UP",children:"UP"})]})}),(0,l.jsx)("td",{className:"border p-2",children:(0,l.jsxs)("select",{name:"id",value:e.id,onChange:e=>en(t,e,"shipment"),className:"w-full p-2 text-black",children:[(0,l.jsx)("option",{value:"",children:"Select ID"}),N.filter(t=>t.class===e.class).map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))]})}),(0,l.jsx)("td",{className:"border p-2",children:(0,l.jsx)("button",{onClick:()=>ea(t,"shipment"),className:"w-full p-2 bg-gray-300 text-black",children:e.product.name||"Select Product"})}),(0,l.jsx)("td",{className:"border p-2",children:(0,l.jsx)("input",{type:"text",name:"param1",value:e.param1,onChange:e=>en(t,e,"shipment"),className:"w-full p-2 text-black"})}),(0,l.jsx)("td",{className:"border p-2",children:(0,l.jsx)("input",{type:"text",name:"param2",value:e.param2,onChange:e=>en(t,e,"shipment"),className:"w-full p-2 text-black"})}),(0,l.jsx)("td",{className:"border p-2",children:(0,l.jsx)("input",{type:"text",name:"param3",value:e.param3,onChange:e=>en(t,e,"shipment"),className:"w-full p-2 text-black"})}),(0,l.jsx)("td",{className:"border p-2",children:(0,l.jsx)("button",{onClick:()=>ei(t,"shipment"),className:"w-full p-2 bg-red-500 text-white",children:"Delete"})})]},t))})]}),(0,l.jsx)("button",{onClick:()=>er("shipment"),className:"w-full p-2 bg-orange-500 text-white mt-2",children:"Add Shipment Token"})]}),(0,l.jsx)("button",{onClick:X,className:"w-full p-4 bg-green-500 text-white rounded text-lg font-semibold mt-8",children:"Commit Changes"}),(0,l.jsx)("button",{onClick:et,className:"w-full mt-2 p-4 bg-red-500 text-white rounded text-lg font-semibold",children:"Delete Product"})]}),M&&(0,l.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:(0,l.jsxs)("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"8px",width:"80%",maxHeight:"80%",overflowY:"auto"},children:[(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1em"},children:[(0,l.jsx)("input",{type:"text",placeholder:"Search products...",value:z,onChange:e=>Y(e.target.value),className:"w-full p-2 text-black"}),(0,l.jsx)("button",{onClick:el,style:{backgroundColor:"red",color:"white",marginLeft:"10px",padding:"10px",borderRadius:"4px"},children:"Back"})]}),(0,l.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,l.jsx)("thead",{children:(0,l.jsx)("tr",{children:(0,l.jsx)("th",{style:{border:"1px solid black",padding:"10px",backgroundColor:"black",color:"white"},children:"Product Name"})})}),(0,l.jsx)("tbody",{children:J.map((e,t)=>(0,l.jsx)("tr",{onClick:()=>es(e.PRODUCT_ID,e.NAME),style:{cursor:"pointer",borderBottom:"1px solid black",backgroundColor:t%2==0?"white":"#d1d5db"},children:(0,l.jsx)("td",{style:{padding:"10px",color:"black"},children:e.NAME})},e.PRODUCT_ID))})]})]})})]})}function tl(){return(0,l.jsx)(l.Fragment,{})}function ts(e){let{currentRoute:t,onRouteChange:a}=e;return(0,l.jsxs)("nav",{className:"fixed top-10 left-1/2 transform -translate-x-1/2 w-11/12 bg-gray-200 p-4 rounded-3xl shadow-lg flex justify-start items-center mt-4 ",children:[(0,l.jsx)("button",{onClick:()=>a(0),className:"px-4 py-2 rounded ".concat(0===t?"bg-gray-600 text-white rounded-3xl mr-6":"bg-gray-300 text-gray-400 mr-2"),children:"Edit Product"}),(0,l.jsx)("button",{onClick:()=>a(1),className:"px-4 py-2 rounded ".concat(1===t?"bg-gray-600 text-white rounded-3xl mr-6":"bg-gray-300 text-gray-400 mr-2"),children:"Create Product"})]})}let tn=new e0;function tr(e){let[t,a]=(0,s.useState)(0);return(0,l.jsx)(eS,{visible:e.visible,closeHandler:e.closeHandler,title:"Manage Products",closeName:"manage",children:(0,l.jsxs)("div",{className:"relative h-full flex flex-col",children:[(0,l.jsx)("div",{className:"fixed w-full z-10",children:(0,l.jsx)(ts,{currentRoute:t,onRouteChange:a})}),(0,l.jsx)("div",{className:"flex-1 mt-24 overflow-y-auto p-4",children:(()=>{switch(t){case 2:return(0,l.jsx)(tl,{api:tn});case 1:return(0,l.jsx)(tt,{api:tn});default:return(0,l.jsx)(ta,{api:tn})}})()})]})})}let ti=new e0;function tc(e){let[t,a]=(0,s.useState)([]),[n,r]=(0,s.useState)([]),[i,c]=(0,s.useState)(null),[d,o]=(0,s.useState)(null),[x,h]=(0,s.useState)(""),[p,m]=(0,s.useState)(new Map),[u,b]=(0,s.useState)(""),[g,y]=(0,s.useState)(""),[j,f]=(0,s.useState)(""),[w,N]=(0,s.useState)({start:null,end:null}),[v,k]=(0,s.useState)(""),[S,C]=(0,s.useState)("employee"),[T,D]=(0,s.useState)(!1),[P,E]=(0,s.useState)(""),_=async()=>{let e=await ti.getProductsInventory(),t=new Map(e.data.map(e=>[e.PRODUCT_ID,e]));m(t);let l=await ti.getProducts(),s=l.data.map(e=>({...e,focus:!1}));a(s),r(s)},I=()=>{if(!x||!d||!i){y("Fields cannot be empty");return}D(!0)},A=async()=>{var e,a;if(!j||!w.start||!w.end||!v||!S){E("All fields are required");return}let l="STORED_STOCK"===d?null===(e=p.get(i))||void 0===e?void 0:e.STORED_STOCK:null===(a=p.get(i))||void 0===a?void 0:a.ACTIVE_STOCK,s=parseFloat(x)-l;await ti.updateStock({PRODUCT_ID:i,QUANTITY:s,explanation:j,errorRangeDates:w,category:v,errorCauseType:S,beforeUpdateStock:l},"STORED_STOCK"===d),m(e=>{let t=new Map(e),a={...t.get(i)};return"STORED_STOCK"===d?a.STORED_STOCK=parseFloat(x):a.ACTIVE_STOCK=parseFloat(x),t.set(i,a),t}),y("Stock changed for ".concat(t.find(e=>e.PRODUCT_ID===i).NAME," to ").concat(x)),c(null),o(null),h(""),D(!1),f(""),N({start:null,end:null}),k(""),C("employee"),E("")},O=(e,t)=>{var a,l;c(e),o(t);let s="STORED_STOCK"===t?null===(a=p.get(e))||void 0===a?void 0:a.STORED_STOCK:null===(l=p.get(e))||void 0===l?void 0:l.ACTIVE_STOCK;h(s.toFixed(2))};(0,s.useEffect)(()=>{if(""===u)return r(t);{let e=t.filter(e=>e.NAME.toLowerCase().includes(u.toLowerCase()));r(e)}},[u]),(0,s.useEffect)(()=>{_()},[]);let R=n.map((e,t)=>{var a,s;return(0,l.jsxs)("tr",{className:"".concat(t%2==0?"bg-gray-100":"bg-white"," ").concat(e.focus?"bg-orange-300":""),children:[(0,l.jsx)("td",{className:"px-4 py-2 border text-black",children:e.NAME}),(0,l.jsx)("td",{className:"px-4 py-2 border text-black bg-rose-400",children:e.PRODUCT_ID}),(0,l.jsx)("td",{className:"px-4 py-2 border text-black cursor-pointer ".concat("STORED_STOCK"===d&&i===e.PRODUCT_ID?"bg-green-400":""),onClick:()=>O(e.PRODUCT_ID,"STORED_STOCK"),children:i===e.PRODUCT_ID&&"STORED_STOCK"===d?(0,l.jsx)("input",{type:"text",value:x,onChange:e=>h(e.target.value),className:"w-full p-2 text-black",autoFocus:!0}):(null===(a=p.get(e.PRODUCT_ID))||void 0===a?void 0:a.STORED_STOCK.toFixed(2))||"N/A"}),(0,l.jsx)("td",{className:"px-4 py-2 border text-black cursor-pointer ".concat("ACTIVE_STOCK"===d&&i===e.PRODUCT_ID?"bg-green-400":""),onClick:()=>O(e.PRODUCT_ID,"ACTIVE_STOCK"),children:i===e.PRODUCT_ID&&"ACTIVE_STOCK"===d?(0,l.jsx)("input",{type:"text",value:x,onChange:e=>h(e.target.value),className:"w-full p-2 text-black",autoFocus:!0}):(null===(s=p.get(e.PRODUCT_ID))||void 0===s?void 0:s.ACTIVE_STOCK.toFixed(2))||"N/A"}),(0,l.jsx)("td",{className:"px-4 py-2 border text-black",children:i===e.PRODUCT_ID&&(0,l.jsx)("button",{className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded",onClick:I,children:"Commit Change"})})]},e.PRODUCT_ID)});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eS,{visible:e.visible,closeHandler:e.closeHandler,title:"Manual Stock Override",closeName:"manual",children:(0,l.jsx)("div",{className:"h-full w-full",children:(0,l.jsx)("div",{className:"flex flex-1 justify-center items-center",children:(0,l.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow max-w-2xl w-full h-70vh",children:[g&&(0,l.jsx)("div",{className:"mb-4 p-4 bg-blue-100 text-blue-800 rounded-lg",children:g}),(0,l.jsx)("div",{className:"sticky top-0 bg-white z-10",children:(0,l.jsx)("input",{value:u,onChange:e=>{b(e.target.value)},className:"w-full mb-4 p-2 border rounded-lg text-black",placeholder:"Search..."})}),(0,l.jsx)("div",{className:"h-[55vh] overflow-y-auto",children:(0,l.jsxs)("table",{className:"min-w-full border-collapse",children:[(0,l.jsx)("thead",{className:"bg-gray-300",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-4 py-2 border text-black",children:"Product Name"}),(0,l.jsx)("th",{className:"px-4 py-2 border text-black",children:"Product ID"}),(0,l.jsx)("th",{className:"px-4 py-2 border text-black",children:"Stored Stock"}),(0,l.jsx)("th",{className:"px-4 py-2 border text-black",children:"Active Stock"}),(0,l.jsx)("th",{className:"px-4 py-2 border text-black",children:"Actions"})]})}),(0,l.jsx)("tbody",{children:R})]})})]})})})}),T&&(0,l.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50",children:(0,l.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-4 text-black",children:"Additional Information Required"}),P&&(0,l.jsx)("div",{className:"mb-4 p-2 bg-red-100 text-red-800 rounded-lg",children:P}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-black",children:"Explanation"}),(0,l.jsx)("input",{type:"text",value:j,onChange:e=>f(e.target.value),className:"w-full p-2 border rounded-lg text-black"})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-black",children:"Error Range Start Date"}),(0,l.jsx)("input",{type:"datetime-local",value:w.start||"",onChange:e=>N({...w,start:e.target.value}),className:"w-full p-2 border rounded-lg text-black"})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-black",children:"Error Range End Date"}),(0,l.jsx)("input",{type:"datetime-local",value:w.end||"",onChange:e=>N({...w,end:e.target.value}),className:"w-full p-2 border rounded-lg text-black"})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-black",children:"Category"}),(0,l.jsx)("input",{type:"text",value:v,onChange:e=>k(e.target.value),className:"w-full p-2 border rounded-lg text-black"})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-black",children:"Error Cause Type"}),(0,l.jsxs)("select",{value:S,onChange:e=>C(e.target.value),className:"w-full p-2 border rounded-lg text-black",children:[(0,l.jsx)("option",{value:"employee",children:"Employee"}),(0,l.jsx)("option",{value:"operation",children:"Operation"})]})]}),(0,l.jsxs)("div",{className:"flex justify-end",children:[(0,l.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mr-2",onClick:A,children:"Submit"}),(0,l.jsx)("button",{className:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded",onClick:()=>{D(!1),E("")},children:"Cancel"})]})]})})]})}let td=new e0;function to(e){let[t,a]=(0,s.useState)(!0),[n,r]=(0,s.useState)(""),[i,c]=(0,s.useState)(""),[d,o]=(0,s.useState)(""),[x,h]=(0,s.useState)(""),[p,m]=(0,s.useState)(""),[u,b]=(0,s.useState)([]),[g,y]=(0,s.useState)([]),[j,f]=(0,s.useState)(null),w=()=>{r(""),c(""),o(""),h("")},N=async()=>{let e=await td.getPartnerCompanies(),t=e.data.map(e=>({...e,focus:!1}));b(t),y(t)};(0,s.useEffect)(()=>{if(""===p)return y(u);{let e=u.filter(e=>e.NAME.toLowerCase().includes(p.toLowerCase()));y(e)}},[p]),(0,s.useEffect)(()=>{N()},[]),(0,s.useEffect)(()=>{w(),N()},[t]);let v=e=>{let t=g.map(t=>t.COMPANY_ID===e.COMPANY_ID?{...t,focus:!t.focus}:{...t,focus:!1});f(e.focus?null:e),y(t)},k=g.map((e,t)=>(0,l.jsxs)("tr",{className:"".concat(e.focus?"bg-orange-300":t%2==0?"bg-gray-100":"bg-white"),onClick:()=>v(e),children:[(0,l.jsx)("td",{className:"px-4 py-2 border text-black",children:e.NAME}),(0,l.jsx)("td",{className:"px-4 py-2 border text-black bg-rose-400",children:e.COMPANY_ID})]},e.COMPANY_ID)),S=()=>{if(!n){alert("Please fill in all fields.");return}td.addCompany({name:n,address:i,phone:d,type:x}),alert("Company Added"),setTimeout(()=>{N()},500)},C=()=>{if(null==j){alert("Please select a product to delete");return}let e={companyId:j.COMPANY_ID};td.deleteCompany(e),alert("Product Deleted"),setTimeout(()=>{N()},500)};return(0,l.jsx)(eS,{visible:e.visible,closeHandler:e.closeHandler,title:"Manage Partner Companies",closeName:"system",children:(0,l.jsxs)("div",{className:"h-full w-full",children:[(0,l.jsxs)("button",{onClick:()=>a(!t),className:"w-32 h-24 bg-orange-300",children:[(0,l.jsx)("p",{className:"text-xs",children:"Click to toggle"}),(0,l.jsx)("p",{className:"font-bold",children:t?"Add Company":"Delete Company"})]}),(0,l.jsx)("div",{className:"flex flex-1 justify-center items-center",children:(0,l.jsx)("div",{className:"p-6 bg-white rounded-lg shadow max-w-2xl w-full",children:t?(0,l.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,l.jsx)("label",{className:"font-semibold text-gray-700",children:"Company Name"}),(0,l.jsx)("input",{type:"text",placeholder:"Company Name",value:n,onChange:e=>r(e.target.value),className:"h-10 px-3 rounded border border-gray-300 text-black"}),(0,l.jsx)("label",{className:"font-semibold text-gray-700",children:"Company Address"}),(0,l.jsx)("input",{type:"text",placeholder:"Company Address",value:i,onChange:e=>c(e.target.value),className:"h-10 px-3 rounded border border-gray-300  text-black"}),(0,l.jsx)("label",{className:"font-semibold text-gray-700",children:"Company Description"}),(0,l.jsx)("input",{type:"text",placeholder:"Company Description",value:x,onChange:e=>h(e.target.value),className:"h-10 px-3 rounded border border-gray-300  text-black"}),(0,l.jsx)("label",{className:"font-semibold text-gray-700",children:"Phone"}),(0,l.jsx)("input",{type:"text",placeholder:"Company Phone",value:d,onChange:e=>o(e.target.value),className:"h-10 px-3 rounded border border-gray-300  text-black"}),(0,l.jsx)("button",{onClick:()=>S(),className:"w-full h-12 bg-blue-500 hover:bg-blue-600 text-white rounded-md",children:"Add Product"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"max-h-96 overflow-y-auto",children:[(0,l.jsx)("input",{value:p,onChange:e=>{m(e.target.value)},className:"w-full mb-4 p-2 border rounded-lg text-black",placeholder:"Search..."}),(0,l.jsxs)("table",{className:"min-w-full border-collapse ",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"bg-gray-300",children:[(0,l.jsx)("th",{className:"px-4 py-2 border text-black",children:"Company Name"}),(0,l.jsx)("th",{className:"px-4 py-2 border text-black",children:"Company ID"})]})}),(0,l.jsx)("tbody",{children:k})]})]}),null!==j&&(0,l.jsx)("button",{className:"mt-4 bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded transition duration-300 ease-in-out",onClick:()=>C(),children:"Delete Company"})]})})})]})})}let tx=new e0;function th(e){let[t,a]=(0,s.useState)([]),[n,r]=(0,s.useState)([]),[i,c]=(0,s.useState)(""),[d,o]=(0,s.useState)(null),[x,h]=(0,s.useState)(""),[p,m]=(0,s.useState)(""),u=async()=>{let e=await tx.getProducts();a(e.data),r(e.data)};(0,s.useEffect)(()=>{u()},[]),(0,s.useEffect)(()=>{if(""===i)return r(t);{let e=t.filter(e=>e.NAME.toLowerCase().includes(i.toLowerCase()));r(e)}},[i]);let b=async e=>{if(e){let l={productID:e,quantity:""===x?null:parseInt(x)};await tx.updateTracking(l),a(t=>t.map(t=>t.PRODUCT_ID===e?{...t,MIN_LIMIT:""===x?null:parseInt(x)}:t)),r(t=>t.map(t=>t.PRODUCT_ID===e?{...t,MIN_LIMIT:""===x?null:parseInt(x)}:t)),m(""===x?"Removed tracking for ".concat(t.find(t=>t.PRODUCT_ID===e).NAME):"Set tracking limit for ".concat(t.find(t=>t.PRODUCT_ID===e).NAME," to ").concat(x)),o(null),h("")}},g=(e,t)=>{o(e),h(null!=t?t.toString():"")},y=n.map((e,t)=>(0,l.jsxs)("tr",{className:"".concat(e.PRODUCT_ID===d?"bg-orange-300":t%2==0?"bg-gray-100":"bg-white"),children:[(0,l.jsx)("td",{className:"px-4 py-2 border text-black",children:e.NAME}),(0,l.jsx)("td",{className:"px-4 py-2 border text-black bg-rose-400",children:e.PRODUCT_ID}),(0,l.jsx)("td",{className:"px-4 py-2 border text-black cursor-pointer ".concat(e.PRODUCT_ID===d?"bg-green-400":""),onClick:()=>g(e.PRODUCT_ID,e.MIN_LIMIT),children:e.PRODUCT_ID===d?(0,l.jsx)("input",{type:"text",value:x,onChange:e=>h(e.target.value),className:"w-full p-2",autoFocus:!0}):null!=e.MIN_LIMIT?e.MIN_LIMIT:"Not being tracked"}),(0,l.jsx)("td",{className:"px-4 py-2 border text-black",children:e.PRODUCT_ID===d&&(0,l.jsx)("button",{className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded transition duration-300 ease-in-out",onClick:()=>b(e.PRODUCT_ID),children:"Commit Change"})})]},e.PRODUCT_ID));return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(eS,{visible:e.visible,closeHandler:e.closeHandler,title:"Product Tracking",closeName:"tracking",children:(0,l.jsxs)("div",{className:"h-full w-full",children:[p&&(0,l.jsx)("div",{className:"mb-4 p-4 bg-blue-100 text-blue-800 rounded-lg",children:p}),(0,l.jsx)("div",{className:"flex flex-1 justify-center items-center",children:(0,l.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow max-w-2xl w-full",children:[(0,l.jsx)("div",{className:"sticky top-0 bg-white z-10",children:(0,l.jsx)("input",{value:i,onChange:e=>{c(e.target.value)},className:"w-full mb-4 p-2 border rounded-lg text-black",placeholder:"Search..."})}),(0,l.jsx)("div",{className:"h-[60vh] overflow-y-auto",children:(0,l.jsxs)("table",{className:"min-w-full border-collapse",children:[(0,l.jsx)("thead",{className:"bg-gray-300",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-4 py-2 border text-black",children:"Product Name"}),(0,l.jsx)("th",{className:"px-4 py-2 border text-black",children:"Product ID"}),(0,l.jsx)("th",{className:"px-4 py-2 border text-black",children:"Tracking Limit"}),(0,l.jsx)("th",{className:"px-4 py-2 border text-black",children:"Actions"})]})}),(0,l.jsx)("tbody",{children:y})]})})]})})]})})})}let tp=new e0;function tm(e){let{visible:t,closeHandler:a}=e,[n,r]=(0,s.useState)(null),[i,c]=(0,s.useState)(1),d=async()=>{try{let e=await tp.getGlobalGlycerin();r(e.data.glycerinGlobalUnit)}catch(e){console.error("Failed to fetch global glycerin:",e)}};(0,s.useEffect)(()=>{d()},[]);let o=async()=>{i!=n&&0!=i&&(await tp.setGlobalGlycerin({set_value:i}),c(1),alert("Glycerin unit updated successfully"),setTimeout(()=>{d()},200))};return(0,l.jsx)(eS,{visible:t,closeHandler:a,title:"Set Global Glycerin",closeName:"GlobalGlycerin",children:(0,l.jsx)("div",{className:"flex flex-col items-center justify-center w-full p-4",children:(0,l.jsxs)("div",{className:"w-full max-w-md",children:[" ",(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("h3",{className:"text-gray-800",children:"Current Glycerin Unit:"}),(0,l.jsx)("h3",{className:"text-gray-800",children:n||"N/A"})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("h3",{className:"text-gray-800",children:"New Glycerin Unit:"}),(0,l.jsx)("input",{onChange:e=>c(parseFloat(e.target.value)),className:"w-full h-10 px-3 border border-gray-300 rounded-md text-black",type:"number",placeholder:"Enter new glycerin unit"})]}),(0,l.jsx)("button",{onClick:()=>o(),className:"w-full h-10 text-white font-bold py-2 px-4 rounded",style:{backgroundColor:"orange",border:"none"},children:"Update Glycerin Unit"})]})})})}let tu=new e0;function tb(e){let[t,a]=(0,s.useState)([]),[n,r]=(0,s.useState)({id:"",status:0,type_desc:"Reduction Scanner",assigned_employee:null,label:""});(0,s.useEffect)(()=>{tu.getScannerData().then(e=>{a(e.scanners)})},[]);let i=async e=>{try{await tu.deleteScanner(e)}catch(e){console.log(e)}a(t.filter(t=>t.id!==e))},c=async()=>{try{await tu.addScanner(n)}catch(e){console.log(e)}a([...t,n]),r({id:"",status:0,type_desc:"Reduction Scanner",assigned_employee:null,label:""})};return(0,l.jsx)(eS,{visible:e.visible,closeHandler:e.closeHandler,title:"Manage Hardware",closeName:"hardware",children:(0,l.jsxs)("div",{style:{maxHeight:"60vh",overflowY:"auto",color:"black",padding:"20px",borderRadius:"10px",backgroundColor:"#f9f9f9"},children:[(0,l.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",color:"black",marginBottom:"20px"},children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{style:{border:"1px solid #ddd",padding:"12px",color:"black",backgroundColor:"#f1f1f1",borderRadius:"10px 0 0 0"},children:"ID"}),(0,l.jsx)("th",{style:{border:"1px solid #ddd",padding:"12px",color:"black",backgroundColor:"#f1f1f1"},children:"Status"}),(0,l.jsx)("th",{style:{border:"1px solid #ddd",padding:"12px",color:"black",backgroundColor:"#f1f1f1"},children:"Type"}),(0,l.jsx)("th",{style:{border:"1px solid #ddd",padding:"12px",color:"black",backgroundColor:"#f1f1f1"},children:"Label"}),(0,l.jsx)("th",{style:{border:"1px solid #ddd",padding:"12px",color:"black",backgroundColor:"#f1f1f1",borderRadius:"0 10px 0 0"},children:"Actions"})]})}),(0,l.jsx)("tbody",{children:t.map(e=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{style:{border:"1px solid #ddd",padding:"12px",color:"black"},children:e.id}),(0,l.jsx)("td",{style:{border:"1px solid #ddd",padding:"12px",color:"black"},children:0===e.status?"Disconnected":"Connected"}),(0,l.jsx)("td",{style:{border:"1px solid #ddd",padding:"12px",color:"black"},children:e.type_desc}),(0,l.jsx)("td",{style:{border:"1px solid #ddd",padding:"12px",color:"black"},children:e.label||"N/A"}),(0,l.jsx)("td",{style:{border:"1px solid #ddd",padding:"12px",color:"black"},children:(0,l.jsx)("button",{style:{padding:"8px 16px",backgroundColor:"#f44336",color:"white",border:"none",cursor:"pointer",borderRadius:"5px"},onClick:()=>i(e.id),children:"Delete"})})]},e.id))})]}),(0,l.jsx)("h3",{style:{color:"black",marginBottom:"20px"},children:"Add New Scanner"}),(0,l.jsx)("input",{style:{padding:"10px",margin:"10px 0",width:"100%",boxSizing:"border-box",color:"black",borderRadius:"5px",border:"1px solid #ccc"},type:"text",placeholder:"ID",value:n.id,onChange:e=>r({...n,id:e.target.value})}),(0,l.jsx)("input",{style:{padding:"10px",margin:"10px 0",width:"100%",boxSizing:"border-box",color:"black",borderRadius:"5px",border:"1px solid #ccc"},type:"number",placeholder:"Status",value:n.status,onChange:e=>r({...n,status:parseInt(e.target.value)})}),(0,l.jsx)("input",{style:{padding:"10px",margin:"10px 0",width:"100%",boxSizing:"border-box",color:"black",borderRadius:"5px",border:"1px solid #ccc"},type:"text",placeholder:"Type",value:n.type_desc,onChange:e=>r({...n,type_desc:e.target.value})}),(0,l.jsx)("input",{style:{padding:"10px",margin:"10px 0",width:"100%",boxSizing:"border-box",color:"black",borderRadius:"5px",border:"1px solid #ccc"},type:"text",placeholder:"Assigned Employee",value:n.assigned_employee||"",onChange:e=>r({...n,assigned_employee:e.target.value})}),(0,l.jsx)("input",{style:{padding:"10px",margin:"10px 0",width:"100%",boxSizing:"border-box",color:"black",borderRadius:"5px",border:"1px solid #ccc"},type:"text",placeholder:"Label",value:n.label,onChange:e=>r({...n,label:e.target.value})}),(0,l.jsx)("button",{style:{padding:"10px 20px",backgroundColor:"#4CAF50",color:"white",border:"none",cursor:"pointer",borderRadius:"5px",marginTop:"10px"},onClick:c,children:"Add"})]})})}let tg=new e0;function ty(e){let[t,a]=(0,s.useState)([]),[n,r]=(0,s.useState)([]),[i,c]=(0,s.useState)(null),[d,o]=(0,s.useState)([]),[x,h]=(0,s.useState)((0,A.WU)(new Date,"yyyy-MM-dd")),[p,m]=(0,s.useState)((0,A.WU)(new Date,"yyyy-MM-dd")),[u,b]=(0,s.useState)(!1),[g,y]=(0,s.useState)(""),[j,f]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=async()=>{let e=await tg.getProducts(),t=e.data.sort((e,t)=>e.NAME.localeCompare(t.NAME)),l=t.filter(e=>"122"===e.TYPE||"44"===e.TYPE);a(l),r(l)};e()},[]);let w=e=>{c(e),b(!1)},N=e=>{let a=e.target.value.toLowerCase();y(a);let l=t.filter(e=>e.NAME.toLowerCase().includes(a));r(l)},v=async()=>{if(!i)return alert("Please select a product");try{let e=await tg.getProductHistory(i.PRODUCT_ID,{start:x,end:p});e.status?0===e.data.length?(alert("No product transaction found during the specified date range."),o([]),f(!1)):(o(e.data),f(!0)):(alert("No product transaction found during the specified date range."),o([]),f(!1))}catch(e){console.error("Failed to fetch product history:",e),alert("An error occurred while fetching the product history. Please try again later.")}},k=e=>(0,l.jsxs)("table",{className:"w-full text-xs text-left text-gray-700 mt-2",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"border px-2 py-1",children:"Product Name"}),(0,l.jsx)("th",{className:"border px-2 py-1",children:"Stock"}),(0,l.jsx)("th",{className:"border px-2 py-1",children:"Stored Stock"}),(0,l.jsx)("th",{className:"border px-2 py-1",children:"Active Stock"})]})}),(0,l.jsx)("tbody",{children:e.map((e,t)=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"border px-2 py-1 text-black",children:e.product_name}),(0,l.jsx)("td",{className:"border px-2 py-1",children:e.stock}),(0,l.jsx)("td",{className:"border px-2 py-1",children:e.stored}),(0,l.jsx)("td",{className:"border px-2 py-1",children:e.active})]},t))})]}),S=d.reduce((e,t)=>{let a=new Date(t.DATE),l=(0,A.WU)(a,"yyyy-MM-dd");return e[l]||(e[l]=[]),e[l].push(t),e},{}),C=()=>{let e=0;for(let t in d)e+=1;return e},T=e=>{let{visible:t,onClose:a,children:s}=e;return t?(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center",children:(0,l.jsxs)("div",{className:"bg-white w-full h-full p-5 overflow-y-auto relative",children:[(0,l.jsx)("button",{className:"fixed top-4 right-4 bg-red-600 text-white px-4 py-2 rounded-md z-10",onClick:a,children:"Back"}),(0,l.jsxs)("div",{className:"mt-16",children:[(0,l.jsxs)("div",{className:"mb-4 p-4 bg-blue-100 border-l-4 border-blue-500 rounded-md",children:[(0,l.jsxs)("h2",{className:"font-semibold text-gray-800 text-lg",children:["Product: ",i.NAME]}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["Date Range: ",x," to ",p]}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["Total Transactions: ",C()]})]})," ",s]})]})}):null};return(0,l.jsx)(eS,{visible:e.visible,closeHandler:e.closeHandler,title:"Product History",closeName:"productHistory",children:(0,l.jsxs)("div",{className:"p-5 bg-gray-100",children:[(0,l.jsxs)("div",{className:"mb-5 p-4 bg-white rounded-lg shadow-md",children:[(0,l.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Start Date:"}),(0,l.jsx)("input",{type:"date",className:"border border-gray-300 rounded-md p-2 text-sm w-full mb-4 text-black",value:x,onChange:e=>h(e.target.value),placeholder:"YYYY-MM-DD"}),(0,l.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 text-black",children:"End Date:"}),(0,l.jsx)("input",{type:"date",className:"border border-gray-300 rounded-md p-2 text-sm w-full mb-4 text-black",value:p,onChange:e=>m(e.target.value),placeholder:"YYYY-MM-DD"}),(0,l.jsx)("button",{className:"w-full bg-blue-600 text-white py-2 rounded-md text-sm font-semibold hover:bg-blue-700 transition mb-4",onClick:()=>b(!0),children:"Select Product"}),i&&(0,l.jsxs)("div",{className:"p-2 bg-gray-200 rounded-md mb-4",children:[(0,l.jsx)("p",{className:"font-semibold text-black",children:"Selected Product:"}),(0,l.jsx)("p",{className:"text-black",children:i.NAME}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["ID: ",i.PRODUCT_ID]})]}),(0,l.jsx)("button",{className:"w-full bg-blue-600 text-white py-2 rounded-md text-sm font-semibold hover:bg-blue-700 transition",onClick:v,children:"Fetch History"})]}),(0,l.jsx)(T,{visible:j,onClose:()=>f(!1),children:(()=>{let e=Object.keys(S).sort((e,t)=>new Date(t)-new Date(e)).map(e=>{let t=S[e];return(0,l.jsxs)("div",{className:"mb-6 bg-white rounded-lg p-4 shadow-md border border-orange-200 bg-orange-50",children:[(0,l.jsx)("h3",{className:"font-bold text-lg text-gray-700 mb-4",children:(0,A.WU)(new Date(e),"eeee, MMMM do, yyyy")}),t.map((e,t)=>(0,l.jsxs)("div",{className:"border-b border-gray-200 py-2",children:[(0,l.jsxs)("p",{className:"text-xs text-gray-600",children:["Transaction ID: ",e.TRANSACTIONID]}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["Employee: ",e.EMPLOYEE_NAME]}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["Product Name: ",e.PRODUCT_NAME]}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["Source Quantity: ",e.QUANTITY]}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["Protocol Reference: ",e.ACTION]}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["Status:"," ",0==e.REVERSED?"Committed":"Error and Reverted"]}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["Date: ",(0,A.WU)(new Date(e.DATE),"yyyy-MM-dd HH:mm:ss")]}),e.before_stock&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{className:"text-sm font-semibold text-gray-700 mt-2",children:"Before Stock:"}),k(e.before_stock)]}),e.after_stock&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{className:"text-sm font-semibold text-gray-700 mt-2",children:"After Stock:"}),k(e.after_stock)]})]},t))]},e)});return e})()}),(0,l.jsx)(eS,{visible:u,closeHandler:()=>b(!1),title:"Select Product",children:(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsx)("input",{type:"text",value:g,onChange:N,placeholder:"Search products...",className:"w-full p-2 mb-4 border border-gray-300 rounded text-black"}),(0,l.jsx)("div",{className:"max-h-80 overflow-y-auto",children:n.map((e,t)=>(0,l.jsxs)("div",{className:"p-3 mb-2 rounded-md cursor-pointer transition-colors duration-300 \n                ".concat(e.PRODUCT_ID===(null==i?void 0:i.PRODUCT_ID)?"bg-blue-100 border-l-4 border-blue-500":t%2==0?"bg-white hover:bg-gray-100":"bg-gray-100 hover:bg-gray-200"),onClick:()=>w(e),children:[(0,l.jsx)("p",{className:"font-semibold text-gray-800",children:e.NAME}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["ID: ",e.PRODUCT_ID]})]},e.PRODUCT_ID))})]})})]})})}function tj(){let e=(0,x.Z)(["\n\n  z-20\n  top-0\n  left-0\n  w-full\n  h-full\n  flex\n  flex-col\n  items-center\n  justify-center\n  bg-gray-900\n  opacity-90\n"]);return tj=function(){return e},e}function tf(){let e=(0,x.Z)(["\n  text-6xl\n  text-white\n  font-bold\n  text-center\n  text-opacity-25\n  backdrop-blur-lg\n"]);return tf=function(){return e},e}function tw(){let e=(0,x.Z)(["\n  fixed\n  z-10\n  bottom-0\n  left-0\n  w-full\n  h-20\n  bg-red-500\n  opacity-75\n"]);return tw=function(){return e},e}function tN(){let e=(0,x.Z)(["\n  mt-20\n  grid\n  grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4\n  gap-4\n  px-4 py-6\n"]);return tN=function(){return e},e}function tv(){let e=(0,x.Z)(["\n  bg-white\n  shadow-md\n  rounded-md\n  p-4\n"]);return tv=function(){return e},e}function tk(){let e=(0,x.Z)(["\n  grid\n  grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4\n  gap-4\n  px-4 py-6\n"]);return tk=function(){return e},e}function tS(){let e=(0,x.Z)(["\nbg-gradient-to-br from-white to-gray-100\nhover:to-gray-500\n  shadow-md\n  rounded-md\n  p-4\n"]);return tS=function(){return e},e}function tC(){let e=(0,x.Z)(["\n  bg-gray-100\n  rounded-md\n  p-4\n"]);return tC=function(){return e},e}h.Z.div(tj()),h.Z.div(tf()),h.Z.div(tw()),h.Z.div(tN()),h.Z.div(tv());let tT=h.Z.div(tk()),tD=h.Z.div(tS()),tP=h.Z.div(tC());function tE(){let[e,t]=(0,s.useState)(!1),[a,n]=(0,s.useState)(!1),[r,i]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1),[o,x]=(0,s.useState)(!1),[h,p]=(0,s.useState)(!1),[m,u]=(0,s.useState)(!1),[b,g]=(0,s.useState)(!1),[y,j]=(0,s.useState)(!1),[f,w]=(0,s.useState)(!1),[N,v]=(0,s.useState)(!1),k=e=>{"productHistory"===e&&v(!1),"viewInv"===e&&t(!1),"shipment"===e&&n(!1),"activation"===e&&i(!1),"reduction"===e&&d(!1),"manage"===e&&x(!1),"manual"===e&&p(!1),"system"===e&&u(!1),"tracking"===e&&g(!1),"GlobalGlycerin"===e&&j(!1),"hardware"===e&&w(!1)},S=e=>{"productHistory"===e&&v(!0),"viewInv"===e&&t(!0),"shipment"===e&&n(!0),"activation"===e&&i(!0),"reduction"===e&&d(!0),"manage"===e&&x(!0),"manual"===e&&p(!0),"system"===e&&u(!0),"tracking"===e&&g(!0),"GlobalGlycerin"===e&&j(!0),"hardware"===e&&w(!0)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(tT,{children:[(0,l.jsxs)(tD,{onClick:()=>S("viewInv"),children:[(0,l.jsx)("h2",{className:"text-black mb-3",children:"View Inventory"}),(0,l.jsxs)(tP,{children:[(0,l.jsx)("h3",{className:"text-gray-800/50",children:"Utility"}),(0,l.jsx)("p",{className:"text-gray-800/50",children:"View Inventory of all products in the database."})]})]}),(0,l.jsxs)(tD,{onClick:()=>S("shipment"),children:[(0,l.jsx)("h2",{className:"text-black mb-3",children:"Shipment Product Log"}),(0,l.jsxs)(tP,{children:[(0,l.jsx)("h3",{className:"text-gray-800/50",children:"Utility"}),(0,l.jsx)("p",{className:"text-gray-800/50",children:"Allows you to update shipment stock quantity for product"})]})]}),(0,l.jsxs)(tD,{onClick:()=>S("activation"),children:[(0,l.jsx)("h2",{className:"text-black mb-3",children:"Product Activation Log"}),(0,l.jsxs)(tP,{children:[(0,l.jsx)("h3",{className:"text-gray-800/50",children:"Utility"}),(0,l.jsx)("p",{className:"text-gray-800/50",children:"View all logs of product activation"})]})]}),(0,l.jsxs)(tD,{onClick:()=>S("reduction"),children:[(0,l.jsx)("h2",{className:"text-black mb-3",children:"Product Reduction Log"}),(0,l.jsxs)(tP,{children:[(0,l.jsx)("h3",{className:"text-gray-800/50",children:"Utility"}),(0,l.jsx)("p",{className:"text-gray-800/50",children:"View all logs of product reduction"})]})]}),(0,l.jsxs)(tD,{onClick:()=>S("productHistory"),children:[(0,l.jsx)("h2",{className:"text-black mb-3",children:"Product History and Monitoring"}),(0,l.jsxs)(tP,{children:[(0,l.jsx)("h3",{className:"text-gray-800/50",children:"Utility"}),(0,l.jsx)("p",{className:"text-gray-800/50",children:"View product history and monitor product usage"})]})]}),(0,l.jsxs)(tD,{onClick:()=>{},children:[(0,l.jsx)("div",{className:"h-30 bg-black bg-opacity-70 flex justify-center items-center text-white",children:"Update Coming Soon"}),(0,l.jsx)("h2",{className:"text-black mb-3",children:"Predict Product Quantity"}),(0,l.jsxs)(tP,{children:[(0,l.jsx)("h3",{className:"text-gray-800/50",children:"Utility"}),(0,l.jsx)("p",{className:"text-gray-800/50",children:"Predicts the quantity of product needed for a given time period"})]})]}),(0,l.jsxs)(tD,{onClick:()=>S("manage"),children:[(0,l.jsx)("h2",{className:"text-black mb-3",children:"Manage Products"}),(0,l.jsxs)(tP,{children:[(0,l.jsx)("h3",{className:"text-gray-800/50",children:"Utility"}),(0,l.jsx)("p",{className:"text-gray-800/50",children:"Manage products in the database"})]})]}),(0,l.jsxs)(tD,{onClick:()=>S("manual"),children:[(0,l.jsx)("h2",{className:"text-black mb-3",children:"Manual Stock Override"}),(0,l.jsxs)(tP,{children:[(0,l.jsx)("h3",{className:"text-gray-800/50",children:"Utility"}),(0,l.jsx)("p",{className:"text-gray-800/50",children:"Manually adjust stock for product"})]})]}),(0,l.jsxs)(tD,{onClick:()=>S("tracking"),children:[(0,l.jsx)("h2",{className:"text-black mb-3",children:"Product Tracking"}),(0,l.jsxs)(tP,{children:[(0,l.jsx)("h3",{className:"text-gray-800/50",children:"Utility"}),(0,l.jsx)("p",{className:"text-gray-800/50",children:"Allows you to specify mininimum amount limits for products"})]})]}),(0,l.jsxs)(tD,{onClick:()=>{},children:[(0,l.jsx)("div",{className:"h-30 bg-black bg-opacity-70 flex justify-center items-center text-white",children:"Update Coming Soon"}),(0,l.jsx)("h2",{className:"text-black mb-3",children:"Manage Partnered Companies"}),(0,l.jsxs)(tP,{children:[(0,l.jsx)("h3",{className:"text-gray-800/50",children:"Utility"}),(0,l.jsx)("p",{className:"text-gray-800/50",children:"Manage partnered companies, add or delete them."})]})]}),(0,l.jsxs)(tD,{onClick:()=>S("GlobalGlycerin"),children:[(0,l.jsx)("h2",{className:"text-black mb-3",children:"System Global Configurations"}),(0,l.jsxs)(tP,{children:[(0,l.jsx)("h3",{className:"text-gray-800/50",children:"Utility"}),(0,l.jsx)("p",{className:"text-gray-800/50",children:"Set store wide configurations for the system"})]})]}),(0,l.jsxs)(tD,{onClick:()=>S("hardware"),children:[(0,l.jsx)("h2",{className:"text-black mb-3",children:"Manage System Hardware"}),(0,l.jsxs)(tP,{children:[(0,l.jsx)("h3",{className:"text-gray-800/50",children:"Utility"}),(0,l.jsx)("p",{className:"text-gray-800/50",children:"Configure and manage system hardware"})]})]})]}),(0,l.jsx)(e4,{visible:e,closeHandler:k}),(0,l.jsx)(e5,{visible:a,closeHandler:k}),(0,l.jsx)(e6,{visible:r,closeHandler:k}),(0,l.jsx)(e9,{visible:c,closeHandler:k}),(0,l.jsx)(tr,{visible:o,closeHandler:k}),(0,l.jsx)(tc,{visible:h,closeHandler:k}),(0,l.jsx)(to,{visible:m,closeHandler:k}),(0,l.jsx)(th,{visible:b,closeHandler:k}),(0,l.jsx)(tm,{visible:y,closeHandler:k}),(0,l.jsx)(tb,{visible:f,closeHandler:k}),(0,l.jsx)(ty,{visible:N,closeHandler:k})]})}let t_="http://192.168.1.224:3002",tI=async()=>{let e=await fetch("".concat("http://192.168.1.176:3001","/getTopEmployee"),{method:"POST",headers:{"Content-Type":"application/json"}});return await e.json()},tA=async()=>{let e=await fetch("".concat(t_,"/metrics/all"),{method:"GET",headers:{"Content-Type":"application/json"}});return await e.json()},tO=async(e,t)=>{let a="";"employee"===t&&(a="/employee"),"total"===t&&(a="/total"),"global"===t&&(a="/global");let l=await fetch("".concat(t_).concat("/metrics").concat(a,"/").concat(e[0],"/").concat(e[1]),{method:"GET",headers:{"Content-Type":"application/json"}});return await l.json()},tR=async()=>{let e=await fetch("".concat(t_,"/employees"),{method:"GET",headers:{"Content-Type":"application/json"}});return await e.json()};var tM=a(26495),tU=a(23148);a(23685),tU.kL.register(tU.uw,tU.f$,tU.FB,tU.od,tU.jn,tU.Dx,tU.u,tU.De,tU.Gu);let tL=(e,t)=>e.replace("rgb","rgba").replace(")",", ".concat(t,")")),tH=e=>{let{data:t,options:a}=e,s={datasets:t.map(e=>({...e,fill:!0,backgroundColor:tL(e.borderColor,.2),tension:.3}))},n={scales:{x:{type:"time",time:{unit:"day",displayFormats:{day:"MMM d"}},title:{display:!0,text:"This Week"},ticks:{autoSkip:!1,maxRotation:0,minRotation:0}},y:{title:{display:!0,text:"Reductions / Hour"}}},...a};return(0,l.jsx)("div",{style:{position:"relative",width:"100%",height:"100%"},children:(0,l.jsx)(tM.x1,{data:s,options:n})})};tU.kL.register(tU.uw,tU.f$,tU.ZL,tU.Dx,tU.u,tU.De);let tF=e=>{let{data:t}=e;return(0,l.jsx)("div",{style:{position:"relative",width:"100%",height:"100%"},children:(0,l.jsx)(tM.$Q,{data:t,options:{indexAxis:"y",elements:{bar:{borderWidth:2}},responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!0,text:"Top 5 Products Today"}},scales:{x:{beginAtZero:!0,ticks:{maxTicksLimit:5},title:{display:!0,text:"Reductions/Hour"}},y:{title:{display:!0,text:"Products"}}}}})})};var tZ=a(39959);function tz(){let e=(0,x.Z)(["\n  grid\n  grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4\n  gap-4\n  px-4 py-6\n"]);return tz=function(){return e},e}function tY(){let e=(0,x.Z)(["\n  bg-white\n  shadow-md\n  rounded-md\n  p-4\n"]);return tY=function(){return e},e}function tG(){let e=(0,x.Z)(["\n  bg-gray-100\n  rounded-md\n  p-4\n"]);return tG=function(){return e},e}let tV=new class{constructor(){this.getTopEmployee=async()=>await tI(),this.getMetrics=async()=>await tA(),this.getMetricsHistory=async(e,t)=>await tO(e,t),this.getEmployees=async()=>await tR()}},tB=h.Z.div(tz()),tK=h.Z.div(tY()),tJ=h.Z.div(tG()),tW=()=>{let[e,t]=(0,s.useState)({}),[a,n]=(0,s.useState)([]),[r,i]=(0,s.useState)([]),[c,d]=(0,s.useState)(new Date),[o,x]=(0,s.useState)(!0),h=async()=>{let e=await tV.getMetrics();console.log("Fetched metrics:",e),t(e)},p=async()=>{let e=c,t=c.getDay();e=0===t?(0,tZ.k)(c,6):6===t?(0,tZ.k)(c,5):1===t?c:(0,tZ.k)(c,t-1);let a=await tV.getMetricsHistory([(0,A.WU)(e,"yyyy-MM-dd"),(0,A.WU)(c,"yyyy-MM-dd")],"employee");console.log("Fetched employee metrics:",a),n(a.chartReadyData),i(a.productChartData)};return(0,s.useEffect)(()=>{let e=async()=>{x(!0),await h(),await p(),x(!1)};e()},[c]),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(tB,{children:[(0,l.jsxs)(tK,{className:"col-span-1 md:col-span-2 lg:col-span-2 xl:col-span-2 lg:row-span 3 md:row-span-3 xl:row-span-3",children:[(0,l.jsx)("h2",{className:"text-black",children:(0,l.jsx)("h2",{className:"rounded-sm",children:"Employee Reduction Analysis (Weekly)"})}),(0,l.jsx)(tJ,{style:{height:"94%"},children:(0,l.jsx)(s.Suspense,{fallback:(0,l.jsx)("p",{style:{color:"grey"},children:"loading..."}),children:!o&&(0,l.jsx)(tH,{data:a,options:{responsive:!0,maintainAspectRatio:!1}})})})]}),(0,l.jsxs)(tK,{className:"col-span-1 md:col-span-2 lg:col-span-2 xl:col-span-2 lg:row-span 3 md:row-span-3 xl:row-span-3",children:[(0,l.jsx)("h2",{className:"text-black",children:"Top 5 Products Today"}),(0,l.jsx)(tJ,{style:{height:"94%",width:"100%",paddingLeft:10},children:(0,l.jsx)(s.Suspense,{fallback:(0,l.jsx)("p",{style:{color:"grey"},children:"loading..."}),children:!o&&(0,l.jsx)(tF,{data:r})})})]})]})})},tQ=[{name:"Your Profile",href:"#"},{name:"Settings",href:"#"},{name:"Sign out",href:"#"}];function tq(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(Boolean).join(" ")}function tX(e){let[t,a]=(0,s.useState)([{name:"Dashboard",href:"#",current:!0,component:(0,l.jsx)(tW,{})},{name:"Employees",href:"#",current:!1,component:(0,l.jsx)(ep,{})},{name:"Inventory",href:"#",current:!1,component:(0,l.jsx)(tE,{})}]),[x,h]=(0,s.useState)({name:"Dashboard",href:"#",current:!0,component:(0,l.jsx)(tW,{})});function p(e){let l=t.map((t,a)=>t.name==e.name?(h(t),{...t,current:!0}):{...t,current:!1});a(l)}return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"min-h-full",children:[(0,l.jsx)(n.p,{as:"nav",className:"bg-zuma-green",children:e=>{let{open:a}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"flex h-16 items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsx)("div",{className:"text-4xl text-zuma-login font-medium",children:"ZUMA"})}),(0,l.jsx)("div",{className:"hidden md:block",children:(0,l.jsx)("div",{className:"ml-10 flex items-baseline space-x-4",children:t.map(e=>(0,l.jsx)("button",{href:e.href,onClick:()=>p(e),className:tq(e.current?"bg-gray-900 text-white":"text-black/70 hover:bg-gray-700 hover:text-white","rounded-md px-3 py-2 text-sm font-medium"),"aria-current":e.current?"page":void 0,children:e.name},e.name))})})]}),(0,l.jsx)("div",{className:"hidden md:block",children:(0,l.jsxs)("div",{className:"ml-4 flex items-center md:ml-6",children:[(0,l.jsxs)("button",{type:"button",className:"rounded-full bg-gray-800 p-1 text-gray-400 hover:text-white focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800",children:[(0,l.jsx)("span",{className:"sr-only",children:"View notifications"}),(0,l.jsx)(c,{className:"h-6 w-6","aria-hidden":"true"})]}),(0,l.jsxs)(r.v,{as:"div",className:"relative ml-3",children:[(0,l.jsx)("div",{children:(0,l.jsx)(r.v.Button,{className:"flex max-w-xs items-center rounded-full bg-gray-800 text-sm focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800",children:(0,l.jsx)("span",{className:"sr-only",children:"Open user menu"})})}),(0,l.jsx)(i.u,{as:s.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,l.jsx)(r.v.Items,{className:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:tQ.map(e=>(0,l.jsx)(r.v.Item,{children:t=>{let{active:a}=t;return(0,l.jsx)("a",{href:e.href,onClick:"Sign out"==e.name?()=>{console.log("sign out")}:null,className:tq(a?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"),children:e.name})}},e.name))})})]})]})}),(0,l.jsx)("div",{className:"-mr-2 flex md:hidden",children:(0,l.jsxs)(n.p.Button,{className:"inline-flex items-center justify-center rounded-md bg-gray-800 p-2 text-gray-400 hover:bg-gray-700 hover:text-white focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800",children:[(0,l.jsx)("span",{className:"sr-only",children:"Open main menu"}),a?(0,l.jsx)(d,{className:"block h-6 w-6","aria-hidden":"true"}):(0,l.jsx)(o,{className:"block h-6 w-6","aria-hidden":"true"})]})})]})}),(0,l.jsxs)(n.p.Panel,{className:"md:hidden",children:[(0,l.jsx)("div",{className:"space-y-1 px-2 pb-3 pt-2 sm:px-3",children:t.map(e=>(0,l.jsx)(n.p.Button,{as:"a",href:e.href,onClick:()=>p(e),className:tq(e.current?"bg-gray-900 text-gray":"text-white-300 hover:bg-gray-700 hover:text-white","block rounded-md px-3 py-2 text-base font-medium"),"aria-current":e.current?"page":void 0,children:e.name},e.name))}),(0,l.jsxs)("div",{className:"border-t border-gray-700 pb-3 pt-4",children:[(0,l.jsxs)("div",{className:"flex items-center px-5",children:[(0,l.jsx)("div",{className:"flex-shrink-0"}),(0,l.jsxs)("button",{type:"button",className:"ml-auto flex-shrink-0 rounded-full bg-gray-800 p-1 text-white hover:text-white focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800",children:[(0,l.jsx)("span",{className:"sr-only",children:"View notifications"}),(0,l.jsx)(c,{className:"h-6 w-6","aria-hidden":"true"})]})]}),(0,l.jsx)("div",{className:"mt-3 space-y-1 px-2",children:tQ.map(e=>(0,l.jsx)(n.p.Button,{as:"a",href:e.href,className:"block rounded-md px-3 py-2 text-base font-medium text-white hover:bg-gray-700 hover:text-white",children:e.name},e.name))})]})]})]})}}),(0,l.jsx)("header",{className:"bg-white shadow",children:(0,l.jsx)("div",{className:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8",children:(0,l.jsx)("h1",{className:"text-3xl font-bold tracking-tight text-gray-900",children:x.name})})}),(0,l.jsx)("main",{children:(0,l.jsx)("div",{className:"mx-auto max-w-7xl py-6 sm:px-6 lg:px-8",children:(0,l.jsx)("div",{children:x.component})})})]})})}function t$(){return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(tX,{})})}},93414:function(){},70172:function(){},2001:function(){},33779:function(){},82258:function(){}},function(e){e.O(0,[196,445,770,577,502,774,888,179],function(){return e(e.s=75557)}),_N_E=e.O()}]);